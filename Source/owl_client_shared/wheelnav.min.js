wheelnav=function(t,e,i,n){this.holderId="wheel",null!=t&&(this.holderId=t);var l,s=document.getElementById(t);if(null==s&&null==e)return this;if(null==e){for(var r=[],a=0;a<s.children.length;a++)"svg"===s.children[a].localName&&r.push(s.children[a]);for(a=0;a<r.length;a++)s.removeChild(r[a]);l=null!=i?(null==n&&(n=i),this.raphael=new Raphael(t,i,n),i):(this.raphael=new Raphael(t),s.clientWidth),this.raphael.setViewBox(0,0,this.raphael.width,this.raphael.height,!0)}else this.raphael=e,l=this.raphael.width,0;return this.centerX=l/2,this.centerY=l/2,this.wheelRadius=l/2,this.navAngle=0,this.sliceAngle=null,this.titleRotateAngle=null,this.titleCurved=!1,this.titleCurvedClockwise=null,this.titleCurvedByRotateAngle=!1,this.initTitleRotate=!1,this.clickModeRotate=!0,this.rotateRound=!1,this.rotateRoundCount=0,this.clickModeSpreadOff=!1,this.animatetimeCalculated=!1,this.animateRepeatCount=0,this.clockwise=!0,this.multiSelect=!1,this.hoverPercent=1,this.selectedPercent=1,this.clickablePercentMin=0,this.clickablePercentMax=1,this.currentPercent=null,this.cssMode=!1,this.selectedToFront=!0,this.selectedNavItemIndex=0,this.hoverEnable=!0,this.hoveredToFront=!0,this.navItemCount=0,this.navItemCountLabeled=!1,this.navItemCountLabelOffset=0,this.navItems=[],this.navItemsEnabled=!0,this.animateFinishFunction=null,this.navItemsContinuous=!1,this.navItemsCentered=!0,this.colors=colorpalette.defaultpalette,this.titleSpreadScale=null,this.spreaderEnable=!1,this.spreaderRadius=20,this.spreaderStartAngle=0,this.spreaderSliceAngle=360,this.spreaderPathFunction=spreaderPath().PieSpreader,this.spreaderPathCustom=null,this.spreaderInPercent=1,this.spreaderOutPercent=1,this.spreaderInTitle="+",this.spreaderOutTitle="-",this.spreaderTitleFont=null,this.spreaderPathInAttr=null,this.spreaderPathOutAttr=null,this.spreaderTitleInAttr=null,this.spreaderTitleOutAttr=null,this.spreaderInTitleWidth=null,this.spreaderInTitleHeight=null,this.spreaderOutTitleWidth=null,this.spreaderOutTitleHeight=null,this.minPercent=.01,this.maxPercent=1,this.initPercent=1,this.markerEnable=!1,this.markerPathFunction=markerPath().TriangleMarker,this.markerPathCustom=null,this.currentClick=0,this.animateLocked=!1,this.slicePathAttr=null,this.sliceHoverAttr=null,this.sliceSelectedAttr=null,this.titleFont="100 24px Impact, Charcoal, sans-serif",this.titleAttr=null,this.titleHoverAttr=null,this.titleSelectedAttr=null,this.titleWidth=null,this.titleHeight=null,this.titleHoverWidth=null,this.titleHoverHeight=null,this.titleSelectedWidth=null,this.titleSelectedHeight=null,this.linePathAttr=null,this.lineHoverAttr=null,this.lineSelectedAttr=null,this.slicePathCustom=null,this.sliceClickablePathCustom=null,this.sliceSelectedPathCustom=null,this.sliceHoverPathCustom=null,this.sliceInitPathCustom=null,this.sliceTransformCustom=null,this.sliceSelectedTransformCustom=null,this.sliceHoverTransformCustom=null,this.sliceInitTransformCustom=null,this.animateeffect=null,this.animatetime=null,void 0!==slicePath().PieSlice?this.slicePathFunction=slicePath().PieSlice:this.slicePathFunction=slicePath().NullSlice,this.sliceClickablePathFunction=null,this.sliceTransformFunction=null,this.sliceSelectedPathFunction=null,this.sliceSelectedTransformFunction=null,this.sliceHoverPathFunction=null,this.sliceHoverTransformFunction=null,this.sliceInitPathFunction=null,this.sliceInitTransformFunction=null,this.keynavigateEnabled=!1,this.keynavigateOnlyFocus=!1,this.keynavigateDownCode=37,this.keynavigateDownCodeAlt=40,this.keynavigateUpCode=39,this.keynavigateUpCodeAlt=38,this.parseWheel(s),this},wheelnav.prototype.initWheel=function(t){for(this.styleWheel(),0===this.navItemCount?(null!=t&&Array.isArray(t)||(t=["title-0","title-1","title-2","title-3"]),this.navItemCount=t.length):t=null,i=0;i<this.navItemCount;i++){var e="",e=this.navItemCountLabeled?(i+this.navItemCountLabelOffset).toString():null!==t?t[i]:"",n=new wheelnavItem(this,e,i);this.navItems.push(n)}var l=0;for(i=0;i<this.navItems.length;i++)this.navItems[i].fillAttr=this.colors[l],++l===this.colors.length&&(l=0)},wheelnav.prototype.createWheel=function(t,e){for(null===this.currentPercent&&(this.currentPercent=e?this.minPercent:this.maxPercent),0===this.navItems.length&&this.initWheel(t),null!==this.selectedNavItemIndex&&(this.navItems[this.selectedNavItemIndex].selected=!0),i=0;i<this.navItemCount;i++)this.navItems[i].createNavItem();var n,l;return this.keynavigateEnabled&&(n=this,l=window,this.keynavigateOnlyFocus&&((l=document.getElementById(this.holderId)).hasAttribute("tabindex")||l.setAttribute("tabindex",0)),l.addEventListener("keydown",this.keyNavigateFunction=function(t){var e=(t=t||window.e).which||t.keyCode;-1<[n.keynavigateDownCode,n.keynavigateDownCodeAlt,n.keynavigateUpCode,n.keynavigateUpCodeAlt].indexOf(t.keyCode)&&t.preventDefault();var i=null;e!==n.keynavigateUpCode&&e!==n.keynavigateUpCodeAlt||(i=n.currentClick===n.navItemCount-1?0:n.currentClick+1),e!==n.keynavigateDownCode&&e!==n.keynavigateDownCodeAlt||(i=0===n.currentClick?n.navItemCount-1:n.currentClick-1),null!==i&&(n.navigateWheel(i),null!==n.navItems[i].navigateFunction&&n.navItems[i].navigateFunction())})),this.spreader=new spreader(this),this.marker=new marker(this),this.refreshWheel(),void 0!==e&&this.spreadWheel(),this},wheelnav.prototype.removeWheel=function(){var t;this.raphael.remove(),this.keynavigateEnabled&&(t=window,this.keynavigateOnlyFocus&&(t=document.getElementById(this.holderId)).hasAttribute("tabindex")&&t.removeAttribute("tabindex"),t.removeEventListener("keydown",this.keyNavigateFunction))},wheelnav.prototype.refreshWheel=function(t){for(i=0;i<this.navItemCount;i++){var e=this.navItems[i];e.setWheelSettings(t),e.refreshNavItem(t)}this.marker.setCurrentTransform(),this.spreader.setCurrentTransform()},wheelnav.prototype.navigateWheel=function(t){var e,n,l;for(this.animateUnlock(!0),this.clickModeRotate&&(this.animateLocked=!0),i=0;i<this.navItemCount;i++){(l=this.navItems[i]).hovered=!1,i===t?this.multiSelect?l.selected=!l.selected:(l.selected=!0,this.selectedNavItemIndex=i):this.multiSelect||(l.selected=!1),this.clickModeRotate&&(e=this.navItems[t].navAngle-this.navItems[this.currentClick].navAngle,this.rotateRound&&(this.clockwise&&e<0&&(e=360+e),!this.clockwise&&0<e&&(e-=360)),l.currentRotateAngle-=e,n=null!=this.animatetime?this.animatetime:1500,this.animatetimeCalculated&&t!==this.currentClick&&(l.animatetime=n*(Math.abs(e)/360)),0<this.rotateRoundCount&&(this.clockwise?l.currentRotateAngle-=360*this.rotateRoundCount:l.currentRotateAngle+=360*this.rotateRoundCount,l.animatetime=n*(this.rotateRoundCount+1)))}for(i=0;i<this.navItemCount;i++)(l=this.navItems[i]).setCurrentTransform(!0,!0),l.refreshNavItem();this.currentClick=t,this.clickModeSpreadOff?(this.currentPercent=this.maxPercent,this.spreadWheel()):(null===t||this.clickModeRotate?this.marker.setCurrentTransform():this.marker.setCurrentTransform(this.navItems[this.currentClick].navAngle),this.spreader.setCurrentTransform(!0))},wheelnav.prototype.spreadWheel=function(){for(this.animateUnlock(!0),this.animateLocked=!0,this.currentPercent===this.maxPercent||null===this.currentPercent?this.currentPercent=this.minPercent:this.currentPercent=this.maxPercent,i=0;i<this.navItemCount;i++){var t=this.navItems[i];t.hovered=!1,t.setCurrentTransform(!0,!1)}return this.marker.setCurrentTransform(),this.spreader.setCurrentTransform(),this},wheelnav.prototype.animateUnlock=function(t,e){if(void 0!==t&&!0===t)for(var i=0;i<this.navItemCount;i++)this.navItems[i].navSliceUnderAnimation=!1,this.navItems[i].navTitleUnderAnimation=!1,this.navItems[i].navTitlePathUnderAnimation=!1,this.navItems[i].navLineUnderAnimation=!1,this.navItems[i].navSlice.stop(),this.navItems[i].navLine.stop(),this.navItems[i].navTitle.stop(),void 0!==this.navItems[i].navTitlePath&&this.navItems[i].navTitlePath.stop();else{for(var n=0;n<this.navItemCount;n++)if(!0===this.navItems[n].navSliceUnderAnimation||!0===this.navItems[n].navTitleUnderAnimation||!0===this.navItems[n].navTitlePathUnderAnimation||!0===this.navItems[n].navLineUnderAnimation)return;this.animateLocked=!1,null!==this.animateFinishFunction&&void 0!==e&&!0===e&&this.animateFinishFunction()}},wheelnav.prototype.setTooltips=function(t){if(null!=t&&Array.isArray(t)&&t.length<=this.navItems.length)for(var e=0;e<t.length;e++)this.navItems[e].setTooltip(t[e])},wheelnav.prototype.getItemId=function(t){return"wheelnav-"+this.holderId+"-item-"+t},wheelnav.prototype.getSliceId=function(t){return"wheelnav-"+this.holderId+"-slice-"+t},wheelnav.prototype.getClickableSliceId=function(t){return"wheelnav-"+this.holderId+"-clickableslice-"+t},wheelnav.prototype.getTitleId=function(t){return"wheelnav-"+this.holderId+"-title-"+t},wheelnav.prototype.getTitlePathId=function(t){return"wheelnav-"+this.holderId+"-titlepath-"+t},wheelnav.prototype.getLineId=function(t){return"wheelnav-"+this.holderId+"-line-"+t},wheelnav.prototype.getSpreaderId=function(){return"wheelnav-"+this.holderId+"-spreader"},wheelnav.prototype.getSpreaderTitleId=function(){return"wheelnav-"+this.holderId+"-spreadertitle"},wheelnav.prototype.getMarkerId=function(){return"wheelnav-"+this.holderId+"-marker"},wheelnav.prototype.parseWheel=function(t){if(null!=t){if(t.hasAttribute("data-wheelnav")){var e=[],i=[],n=[],l=!1,s=t.getAttribute("data-wheelnav-slicepath");null!==s&&void 0!==slicePath()[s]&&(this.slicePathFunction=slicePath()[s]);var r=t.getAttribute("data-wheelnav-colors");null!==r&&(this.colors=r.split(","));var a=t.getAttribute("data-wheelnav-wheelradius");null!==a&&(this.wheelRadius=Number(a));var h=t.getAttribute("data-wheelnav-navangle");null!==h&&(this.navAngle=Number(h)),null!==t.getAttribute("data-wheelnav-rotateoff")&&(this.clickModeRotate=!1),null!==t.getAttribute("data-wheelnav-cssmode")&&(this.cssMode=!0),null!==t.getAttribute("data-wheelnav-spreader")&&(this.spreaderEnable=!0);var o=t.getAttribute("data-wheelnav-spreaderradius");null!==o&&(this.spreaderRadius=Number(o));var c=t.getAttribute("data-wheelnav-spreaderpath");null!==c&&void 0!==markerPath()[c]&&(this.spreaderPathFunction=spreaderPath()[c]),null!==t.getAttribute("data-wheelnav-marker")&&(this.markerEnable=!0);var u=t.getAttribute("data-wheelnav-markerpath");null!==u&&void 0!==markerPath()[u]&&(this.markerPathFunction=markerPath()[u]);var d=t.getAttribute("data-wheelnav-titlewidth");null!==d&&(this.titleWidth=Number(d));var g=t.getAttribute("data-wheelnav-titleheight");null!==g&&(this.titleHeight=Number(g)),null!==t.getAttribute("data-wheelnav-titlecurved")&&(this.titleCurved=!0),null!==t.getAttribute("data-wheelnav-titlecurvedclockwise")&&(this.titleCurvedClockwise=!0),null!==t.getAttribute("data-wheelnav-titlecurvedbyrotateangle")&&(this.titleCurvedByRotateAngle=!0),null!==t.getAttribute("data-wheelnav-keynav")&&(this.keynavigateEnabled=!0),null!==t.getAttribute("data-wheelnav-keynavonlyfocus")&&(this.keynavigateOnlyFocus=!0);var v=t.getAttribute("data-wheelnav-keynavdowncode");null!==v&&(this.keynavigateDownCode=Number(v));var m=t.getAttribute("data-wheelnav-keynavdowncodealt");null!==m&&(this.keynavigateDownCodeAlt=Number(m));var P=t.getAttribute("data-wheelnav-keynavupcode");null!==P&&(this.keynavigateUpCode=Number(P));var A=t.getAttribute("data-wheelnav-keynavupcodealt");null!==A&&(this.keynavigateUpCodeAlt=Number(A)),null!==t.getAttribute("data-wheelnav-init")&&(l=!0);for(var T=0;T<t.children.length;T++){var S=t.children[T].getAttribute("data-wheelnav-navitemtext"),p=t.children[T].getAttribute("data-wheelnav-navitemicon"),f=t.children[T].getAttribute("data-wheelnav-navitemimg");if(null!==S||null!==p||null!==f){if(null!==S)e.push(S);else if(null!==p)void 0!==icon[p]?e.push(icon[p]):e.push(p);else{if(null===f)continue;e.push("imgsrc:"+f)}void 0!==t.children[T].onmouseup?n.push(t.children[T].onmouseup):n.push(null);for(var w=0;w<t.children[T].children.length;w++)void 0!==t.children[T].children[w].getAttribute("href")&&i.push(t.children[T].children[w].getAttribute("href"));i.push(null)}}if(0<e.length){this.initWheel(e);for(T=0;T<n.length;T++)this.navItems[T].navigateFunction=n[T],this.navItems[T].navigateHref=i[T];l||this.createWheel()}}for(var C=[],T=0;T<t.children.length;T++)"svg"!==t.children[T].localName&&C.push(t.children[T]);for(T=0;T<C.length;T++)t.removeChild(C[T])}},wheelnavItem=function(t,e,i){return this.wheelnav=t,this.wheelItemIndex=i,t.clockwise?this.itemIndex=i:this.itemIndex=-i,this.enabled=t.navItemsEnabled,this.selected=!1,this.hovered=!1,this.navItem=null,this.navSlice=null,this.navTitle=null,this.navLine=null,this.navClickableSlice=null,this.navSliceCurrentTransformString=null,this.navTitleCurrentTransformString=null,this.navLineCurrentTransformString=null,this.navSliceUnderAnimation=!1,this.navTitleUnderAnimation=!1,this.navTitlePathUnderAnimation=!1,this.navLineUnderAnimation=!1,this.currentRotateAngle=0,this.setTitle(e),this.tooltip=null,this.fillAttr="#CCC",this.titleFont=this.wheelnav.titleFont,this.navigateHref=null,this.navigateFunction=null,this.titleWidth=null,this.titleHeight=null,this.titleHoverWidth=null,this.titleHoverHeight=null,this.titleSelectedWidth=null,this.titleSelectedHeight=null,this.animateeffect=null,this.animatetime=null,this.sliceInitPathFunction=null,this.sliceClickablePathFunction=null,this.slicePathFunction=null,this.sliceSelectedPathFunction=null,this.sliceHoverPathFunction=null,this.sliceTransformFunction=null,this.sliceSelectedTransformFunction=null,this.sliceHoverTransformFunction=null,this.sliceInitTransformFunction=null,this.slicePathCustom=null,this.sliceClickablePathCustom=null,this.sliceSelectedPathCustom=null,this.sliceHoverPathCustom=null,this.sliceInitPathCustom=null,this.sliceTransformCustom=null,this.sliceSelectedTransformCustom=null,this.sliceHoverTransformCustom=null,this.sliceInitTransformCustom=null,this.initPercent=null,this.minPercent=null,this.maxPercent=null,this.hoverPercent=null,this.selectedPercent=null,this.clickablePercentMin=null,this.clickablePercentMax=null,this.titleSpreadScale=null,this.sliceAngle=null,this.titleRotateAngle=null,this.titleCurved=null,this.titleCurvedClockwise=null,this.titleCurvedByRotateAngle=null,this.styleNavItem(),this},wheelnavItem.prototype.createNavItem=function(){this.setWheelSettings(!1),null!==this.navigateHref&&(this.navigateFunction=function(){window.location.href=this.navigateHref}),this.wheelnav.cssMode||(this.slicePathAttr.fill=this.fillAttr,this.sliceHoverAttr.fill=this.fillAttr,this.sliceSelectedAttr.fill=this.fillAttr),this.enabled||(this.wheelnav.cssMode||(this.slicePathAttr.cursor="default",this.sliceHoverAttr.cursor="default",this.titleAttr.cursor="default",this.titleHoverAttr.cursor="default",this.linePathAttr.cursor="default",this.lineHoverAttr.cursor="default"),this.sliceClickablePathAttr.cursor="default",this.sliceClickableHoverAttr.cursor="default");var t=this.wheelItemIndex-1,e=360/this.wheelnav.navItemCount;null===this.sliceAngle&&(this.sliceAngle=360/this.wheelnav.navItemCount),this.wheelnav.clockwise?this.wheelnav.navItemsContinuous?0===this.itemIndex?this.baseAngle=this.itemIndex*this.sliceAngle+(-this.sliceAngle/2+this.wheelnav.navAngle):this.baseAngle=this.wheelnav.navItems[t].baseAngle+this.wheelnav.navItems[t].sliceAngle:this.wheelnav.navItemsCentered?this.baseAngle=this.itemIndex*e+(-this.sliceAngle/2+this.wheelnav.navAngle):(this.baseAngle=this.itemIndex*e+(-e/2+this.wheelnav.navAngle),this.currentRotateAngle+=e/2-this.wheelnav.navItems[0].sliceAngle/2):this.wheelnav.navItemsContinuous?0===this.itemIndex?this.baseAngle=this.itemIndex*this.sliceAngle+(-this.sliceAngle/2+this.wheelnav.navAngle):this.baseAngle=this.wheelnav.navItems[t].baseAngle-this.wheelnav.navItems[this.wheelItemIndex].sliceAngle:this.wheelnav.navItemsCentered?this.baseAngle=this.itemIndex*e+(-this.sliceAngle/2+this.wheelnav.navAngle):(this.baseAngle=this.itemIndex*e+(-e/2+this.wheelnav.navAngle)+(e-this.sliceAngle),this.currentRotateAngle-=e/2-this.wheelnav.navItems[0].sliceAngle/2),this.navAngle=this.baseAngle+this.sliceAngle/2,this.wheelnav.animatetimeCalculated&&(this.animatetime=this.wheelnav.animatetime/this.wheelnav.navItemCount),this.initPathsAndTransforms();var i=this.sliceInitPath;this.navSlice=this.wheelnav.raphael.path(i.slicePathString),this.navSlice.attr(this.slicePathAttr),this.navSlice.id=this.wheelnav.getSliceId(this.wheelItemIndex),this.navSlice.node.id=this.navSlice.id,this.navLine=this.wheelnav.raphael.path(i.linePathString),this.navLine.attr(this.linePathAttr),this.navLine.id=this.wheelnav.getLineId(this.wheelItemIndex),this.navLine.node.id=this.navLine.id;var n,l,s,r=this.initNavTitle;wheelnavTitle().isPathTitle(this.title)?this.navTitle=this.wheelnav.raphael.path(r.path):wheelnavTitle().isImageTitle(this.title)?this.navTitle=this.wheelnav.raphael.image(r.src,i.titlePosX-this.titleWidth/2,i.titlePosY-this.titleHeight/2,this.titleWidth,this.titleHeight):this.titleCurved?(this.navTitle=this.wheelnav.raphael.text(i.titlePosX,i.titlePosY,"."),""!==r.title&&this.addCurvedTitle(r.title)):this.navTitle=this.wheelnav.raphael.text(i.titlePosX,i.titlePosY,r.title),this.navTitle.id=this.wheelnav.getTitleId(this.wheelItemIndex),this.navTitle.node.id=this.navTitle.id,this.navTitle.attr(this.titleAttr),this.titleCurved&&(null===(n=document.getElementById(this.navTitle.node.id))||0<(l=n.getElementsByTagName("tspan")).length&&(l[0].setAttribute("fill","transparent"),l[0].setAttribute("stroke","transparent"))),(this.navSliceCurrentTransformString="")!==this.initTransform.sliceTransformString&&(this.navSliceCurrentTransformString+=this.initTransform.sliceTransformString),(this.navLineCurrentTransformString="")!==this.initTransform.lineTransformString&&(this.navLineCurrentTransformString+=this.initTransform.lineTransformString),this.navTitleCurrentTransformString="",this.navTitleCurrentTransformString+=this.getTitleRotateString(this.wheelnav.initTitleRotate),""!==this.initTransform.titleTransformString&&void 0!==this.initTransform.titleTransformString&&(this.navTitleCurrentTransformString+=this.initTransform.titleTransformString),this.wheelnav.currentPercent<.05&&(this.navTitleCurrentTransformString+=",s0.05"),void 0!==this.navTitleSizeTransform&&(this.navTitleCurrentTransformString+=this.navTitleSizeTransform),this.navSlice.attr({transform:this.navSliceCurrentTransformString}),this.navLine.attr({transform:this.navLineCurrentTransformString}),this.navTitle.attr({transform:this.navTitleCurrentTransformString}),this.navItem=this.wheelnav.raphael.set(),null!==this.sliceClickablePathFunction?(s=this.getCurrentClickablePath(),this.navClickableSlice=this.wheelnav.raphael.path(s.slicePathString).attr(this.sliceClickablePathAttr).toBack(),this.navClickableSlice.id=this.wheelnav.getClickableSliceId(this.wheelItemIndex),this.navClickableSlice.node.id=this.navClickableSlice.id,this.navItem.push(this.navSlice,this.navLine,this.navTitle,this.navClickableSlice)):this.navItem.push(this.navSlice,this.navLine,this.navTitle),this.setTooltip(this.tooltip),this.navItem.id=this.wheelnav.getItemId(this.wheelItemIndex);var a=this.wheelnav,h=this,o=this.wheelItemIndex;this.enabled&&(this.navItem.mouseup(function(){null!==h.navigateFunction&&h.navigateFunction(),a.navigateWheel(o)}),this.wheelnav.hoverEnable&&(this.navItem.mouseover(function(){!0!==h.hovered&&h.hoverEffect(o,!0)}),this.navItem.mouseout(function(){h.hovered=!1,h.hoverEffect(o,!1)}))),this.setCurrentTransform(!0,!1)},wheelnavItem.prototype.addCurvedTitle=function(t){var e=[],e=void 0!==this.sliceInitPath.titlePathString&&""!==this.sliceInitPath.titlePathString?this.sliceInitPath.titlePathString:(this.sliceHelper.titleRadius=.63*this.wheelnav.wheelRadius,this.sliceHelper.getCurvedTitlePathString());this.navTitle.node.id=this.wheelnav.getTitleId(this.wheelItemIndex);var i=this.wheelnav.getTitlePathId(this.wheelItemIndex);this.navTitlePath=this.wheelnav.raphael.path(e),this.navTitlePath.attr({fill:"transparent",stroke:"transparent"}),this.navTitlePath.node.id=i;var n=document.getElementById(this.navTitle.node.id),l=window.document.createElementNS("http://www.w3.org/2000/svg","textPath");l.setAttribute("id",i+"-text"),-1<navigator.vendor.toLowerCase().indexOf("apple")?l.setAttribute("xlink:href","#"+i):l.setAttribute("href","#"+i),l.setAttribute("startOffset","50%"),l.setAttribute("dominant-baseline","middle"),l.setAttribute("alignment-baseline","middle"),l.textContent=t,n.appendChild(l),this.titleCurvedByRotateAngle||(this.titleRotateAngle=-this.navAngle)},wheelnavItem.prototype.hoverEffect=function(t,e){!1===this.wheelnav.animateLocked&&(e&&(this.selected||(this.hovered=!0)),this.refreshNavItem(),1===this.hoverPercent&&null===this.sliceHoverPathFunction&&null===this.sliceHoverTransformFunction&&this.titleHover===this.title&&this.titleHoverWidth===this.titleWidth&&this.titleHoverHeight===this.titleHeight||this.setCurrentTransform(!1,!1),this.wheelnav.marker.setCurrentTransform(),this.wheelnav.spreader.setCurrentTransform(!0))},wheelnavItem.prototype.setCurrentTransform=function(t,e){if(!this.wheelnav.clickModeRotate||!this.navSliceUnderAnimation&&!this.navTitleUnderAnimation&&!this.navTitlePathUnderAnimation&&!this.navLineUnderAnimation){void 0!==t&&!0===t&&(this.navSliceUnderAnimation=!0,this.navTitleUnderAnimation=!0,void 0!==this.navTitlePath&&(this.navTitlePathUnderAnimation=!0),this.navLineUnderAnimation=!0),this.navSliceCurrentTransformString="",this.wheelnav.clickModeRotate&&(this.navSliceCurrentTransformString+=this.getItemRotateString()),this.selected?void 0!==this.selectTransform.sliceTransformString&&(this.navSliceCurrentTransformString+=this.selectTransform.sliceTransformString):this.hovered&&void 0!==this.hoverTransform.sliceTransformString&&(this.navSliceCurrentTransformString+=this.hoverTransform.sliceTransformString),void 0!==this.sliceTransform.sliceTransformString&&(this.navSliceCurrentTransformString+=this.sliceTransform.sliceTransformString),this.navLineCurrentTransformString="",this.wheelnav.clickModeRotate&&(this.navLineCurrentTransformString+=this.getItemRotateString()),this.selected?void 0!==this.selectTransform.lineTransformString&&(this.navLineCurrentTransformString+=this.selectTransform.lineTransformString):this.hovered&&void 0!==this.hoverTransform.lineTransformString&&(this.navLineCurrentTransformString+=this.hoverTransform.lineTransformString),void 0!==this.sliceTransform.lineTransformString&&(this.navLineCurrentTransformString+=this.sliceTransform.lineTransformString),this.navTitleCurrentTransformString="",this.navTitleCurrentTransformString+=this.getTitleRotateString(!0),this.selected?(void 0!==this.navTitleSizeSelectedTransform&&(this.navTitleCurrentTransformString+=this.navTitleSizeSelectedTransform),""===this.selectTransform.titleTransformString||void 0===this.selectTransform.titleTransformString?this.navTitleCurrentTransformString+=",s1":this.navTitleCurrentTransformString+=","+this.selectTransform.titleTransformString,this.wheelnav.currentPercent<.05&&(this.navTitleCurrentTransformString+=",s0.05")):this.hovered?(void 0!==this.navTitleSizeHoverTransform&&(this.navTitleCurrentTransformString+=this.navTitleSizeHoverTransform),""===this.hoverTransform.titleTransformString||void 0===this.hoverTransform.titleTransformString?this.navTitleCurrentTransformString+=",s1":this.navTitleCurrentTransformString+=","+this.hoverTransform.titleTransformString):this.wheelnav.currentPercent<.05?this.navTitleCurrentTransformString+=",s0.05":this.titleSpreadScale?this.navTitleCurrentTransformString+=",s"+this.wheelnav.currentPercent:(void 0!==this.navTitleSizeTransform&&(this.navTitleCurrentTransformString+=this.navTitleSizeTransform),""===this.sliceTransform.titleTransformString||void 0===this.sliceTransform.titleTransformString?this.navTitleCurrentTransformString+=",s1":this.navTitleCurrentTransformString+=","+this.sliceTransform.titleTransformString);var n=this.getCurrentPath(),l={path:n.slicePathString,transform:this.navSliceCurrentTransformString},s={};null!==this.sliceClickablePathFunction&&(s={path:this.getCurrentClickablePath().slicePathString,transform:this.navSliceCurrentTransformString});var r={path:n.linePathString,transform:this.navLineCurrentTransformString},a=this.getCurrentTitle(),h={},o=null;wheelnavTitle().isPathTitle(a.title)?h={path:a.path,transform:this.navTitleCurrentTransformString}:wheelnavTitle().isImageTitle(a.title)?(h={x:a.x,y:a.y,width:a.width,height:a.height,transform:this.navTitleCurrentTransformString},this.navTitle.attr({src:a.src})):(h={x:a.x,y:a.y,transform:this.navTitleCurrentTransformString},null!==a.title&&""!==a.title&&(this.titleCurved?void 0!==n.titlePathString&&""!==n.titlePathString&&(o={path:n.titlePathString}):this.navTitle.attr({text:a.title})));var c=this,u=this.wheelnav;this.animSlice=Raphael.animation(l,this.animatetime,this.animateeffect,function(){c.navSliceUnderAnimation=!1,u.animateUnlock(!1,e)}),this.animLine=Raphael.animation(r,this.animatetime,this.animateeffect,function(){c.navLineUnderAnimation=!1,u.animateUnlock(!1,e)}),this.animTitle=Raphael.animation(h,this.animatetime,this.animateeffect,function(){c.navTitleUnderAnimation=!1,u.animateUnlock(!1,e)}),this.titleCurved&&void 0!==this.navTitlePath&&(this.animTitlePath=Raphael.animation(o,this.animatetime,this.animateeffect,function(){c.navTitlePathUnderAnimation=!1,u.animateUnlock(!1,e)})),null!==this.navClickableSlice&&(this.animClickableSlice=Raphael.animation(s,this.animatetime,this.animateeffect));var d=this.wheelnav.animateRepeatCount;if(void 0!==t&&!0===t){if(this.wheelItemIndex===this.wheelnav.navItemCount-1){for(i=0;i<this.wheelnav.navItemCount;i++){var g=this.wheelnav.navItems[i];g.navSlice.animate(g.animSlice.repeat(d))}for(i=0;i<this.wheelnav.navItemCount;i++){var v=this.wheelnav.navItems[i];v.navLine.animate(v.animLine.repeat(d))}for(i=0;i<this.wheelnav.navItemCount;i++){var m=this.wheelnav.navItems[i];m.navTitle.animate(m.animTitle.repeat(d)),m.titleCurved&&void 0!==m.navTitlePath&&m.navTitlePath.animate(m.animTitlePath.repeat(d))}if(null!==this.wheelnav.sliceClickablePathFunction)for(i=0;i<this.wheelnav.navItemCount;i++){var P=this.wheelnav.navItems[i];null!==P.navClickableSlice&&P.navClickableSlice.animate(P.animClickableSlice.repeat(d))}}}else this.navSlice.animate(this.animSlice.repeat(d)),this.navLine.animate(this.animLine.repeat(d)),this.navTitle.animate(this.animTitle.repeat(d)),this.titleCurved&&void 0!==this.navTitlePath&&this.navTitlePath.animate(this.animTitlePath.repeat(d)),null!==this.navClickableSlice&&this.navClickableSlice.animate(this.animClickableSlice.repeat(d))}},wheelnavItem.prototype.setTitle=function(t){this.title=void 0===t?null:t,this.titleHover=this.title,this.titleSelected=this.title},wheelnavItem.prototype.setTooltip=function(t){null!==t&&this.navItem.attr({title:t})},wheelnavItem.prototype.refreshNavItem=function(t){this.selected?(this.navSlice.attr(this.sliceSelectedAttr),this.navLine.attr(this.lineSelectedAttr),this.navTitle.attr(this.titleSelectedAttr),null!==this.navClickableSlice&&this.navClickableSlice.attr(this.sliceClickableSelectedAttr),this.wheelnav.selectedToFront?(this.navSlice.toFront(),this.navLine.toFront(),this.navTitle.toFront(),null!==this.navClickableSlice&&this.navClickableSlice.toFront()):(null!==this.navClickableSlice&&this.navClickableSlice.toBack(),this.navTitle.toBack(),this.navLine.toBack(),this.navSlice.toBack())):this.hovered?this.wheelnav.hoverEnable&&(this.navSlice.attr(this.sliceHoverAttr),this.navLine.attr(this.lineHoverAttr),this.navTitle.attr(this.titleHoverAttr),null!==this.navClickableSlice&&this.navClickableSlice.attr(this.sliceClickableHoverAttr),this.wheelnav.hoveredToFront&&(this.navSlice.toFront(),this.navLine.toFront(),this.navTitle.toFront()),null!==this.navClickableSlice&&this.navClickableSlice.toFront()):(this.navSlice.attr(this.slicePathAttr),this.navLine.attr(this.linePathAttr),this.navTitle.attr(this.titleAttr),null!==this.navClickableSlice&&this.navClickableSlice.attr(this.sliceClickablePathAttr),null!==this.navClickableSlice&&this.navClickableSlice.toBack(),this.navTitle.toBack(),this.navLine.toBack(),this.navSlice.toBack()),void 0!==t&&!0===t&&(this.initPathsAndTransforms(),this.setCurrentTransform(!1,!1))},wheelnavItem.prototype.setWheelSettings=function(t){null!==this.wheelnav.slicePathAttr&&(this.slicePathAttr=JSON.parse(JSON.stringify(this.wheelnav.slicePathAttr))),null!==this.wheelnav.sliceHoverAttr&&(this.sliceHoverAttr=JSON.parse(JSON.stringify(this.wheelnav.sliceHoverAttr))),null!==this.wheelnav.sliceSelectedAttr&&(this.sliceSelectedAttr=JSON.parse(JSON.stringify(this.wheelnav.sliceSelectedAttr))),null!==this.wheelnav.titleAttr&&(this.titleAttr=JSON.parse(JSON.stringify(this.wheelnav.titleAttr))),null!==this.wheelnav.titleHoverAttr&&(this.titleHoverAttr=JSON.parse(JSON.stringify(this.wheelnav.titleHoverAttr))),null!==this.wheelnav.titleSelectedAttr&&(this.titleSelectedAttr=JSON.parse(JSON.stringify(this.wheelnav.titleSelectedAttr))),null!==this.wheelnav.titleRotateAngle&&null===this.titleRotateAngle&&(this.titleRotateAngle=this.wheelnav.titleRotateAngle),null!==this.wheelnav.titleCurved&&null===this.titleCurved&&(this.titleCurved=this.wheelnav.titleCurved),null!==this.wheelnav.titleCurvedClockwise&&null===this.titleCurvedClockwise?this.titleCurvedClockwise=this.wheelnav.titleCurvedClockwise:null===this.titleCurvedClockwise&&(this.titleCurvedClockwise=!this.wheelnav.clockwise),null!==this.wheelnav.titleCurvedByRotateAngle&&null===this.titleCurvedByRotateAngle&&(this.titleCurvedByRotateAngle=this.wheelnav.titleCurvedByRotateAngle),null!==this.wheelnav.titleWidth&&null===this.titleWidth&&(this.titleWidth=this.wheelnav.titleWidth),null!==this.wheelnav.titleHeight&&null===this.titleHeight&&(this.titleHeight=this.wheelnav.titleHeight),null!==this.titleWidth&&null===this.titleHeight&&(this.titleHeight=this.titleWidth),null===this.titleWidth&&null!==this.titleHeight&&(this.titleWidth=this.titleHeight),wheelnavTitle().isImageTitle(this.title)&&(null===this.titleWidth&&(this.titleWidth=32),null===this.titleHeight&&(this.titleHeight=32)),null!==this.wheelnav.titleHoverWidth&&null===this.titleHoverWidth&&(this.titleHoverWidth=this.wheelnav.titleHoverWidth),null!==this.wheelnav.titleHoverHeight&&null===this.titleHoverHeight&&(this.titleHoverHeight=this.wheelnav.titleHoverHeight),null!==this.titleHoverWidth&&null===this.titleHoverHeight&&(this.titleHoverHeight=this.titleHoverWidth),null===this.titleHoverWidth&&null!==this.titleHoverHeight&&(this.titleHoverWidth=this.titleHoverHeight),null!==this.wheelnav.titleSelectedWidth&&null===this.titleSelectedWidth&&(this.titleSelectedWidth=this.wheelnav.titleSelectedWidth),null!==this.wheelnav.titleSelectedHeight&&null===this.titleSelectedHeight&&(this.titleSelectedHeight=this.wheelnav.titleSelectedHeight),null!==this.titleSelectedWidth&&null===this.titleSelectedHeight&&(this.titleSelectedHeight=this.titleSelectedWidth),null===this.titleSelectedWidth&&null!==this.titleSelectedHeight&&(this.titleSelectedWidth=this.titleSelectedHeight),null===this.titleHoverHeight&&(this.titleHoverHeight=this.titleHeight),null===this.titleHoverWidth&&(this.titleHoverWidth=this.titleWidth),null===this.titleSelectedHeight&&(this.titleSelectedHeight=this.titleHeight),null===this.titleSelectedWidth&&(this.titleSelectedWidth=this.titleWidth),null!==this.wheelnav.linePathAttr&&(this.linePathAttr=JSON.parse(JSON.stringify(this.wheelnav.linePathAttr))),null!==this.wheelnav.lineHoverAttr&&(this.lineHoverAttr=JSON.parse(JSON.stringify(this.wheelnav.lineHoverAttr))),null!==this.wheelnav.lineSelectedAttr&&(this.lineSelectedAttr=JSON.parse(JSON.stringify(this.wheelnav.lineSelectedAttr))),null!==this.animateeffect&&!t||(null!==this.wheelnav.animateeffect?this.animateeffect=this.wheelnav.animateeffect:this.animateeffect="bounce"),null!==this.animatetime&&!t||(null!==this.wheelnav.animatetime?this.animatetime=this.wheelnav.animatetime:this.animatetime=1500),null!==this.title?(null!==this.sliceInitPathFunction&&!t||(this.sliceInitPathFunction=this.wheelnav.sliceInitPathFunction),null!==this.sliceClickablePathFunction&&!t||(this.sliceClickablePathFunction=this.wheelnav.sliceClickablePathFunction),null!==this.slicePathFunction&&!t||(this.slicePathFunction=this.wheelnav.slicePathFunction),null!==this.sliceSelectedPathFunction&&!t||(this.sliceSelectedPathFunction=this.wheelnav.sliceSelectedPathFunction),null!==this.sliceHoverPathFunction&&!t||(this.sliceHoverPathFunction=this.wheelnav.sliceHoverPathFunction),null!==this.sliceTransformFunction&&!t||(this.sliceTransformFunction=this.wheelnav.sliceTransformFunction),null!==this.sliceSelectedTransformFunction&&!t||(this.sliceSelectedTransformFunction=this.wheelnav.sliceSelectedTransformFunction),null!==this.sliceHoverTransformFunction&&!t||(this.sliceHoverTransformFunction=this.wheelnav.sliceHoverTransformFunction),null!==this.sliceInitTransformFunction&&!t||(this.sliceInitTransformFunction=this.wheelnav.sliceInitTransformFunction)):(this.sliceInitPathFunction=slicePath().NullInitSlice,this.sliceClickablePathFunction=slicePath().NullSlice,this.slicePathFunction=slicePath().NullSlice,this.sliceSelectedPathFunction=null,this.sliceHoverPathFunction=null,this.sliceTransformFunction=null,this.sliceSelectedTransformFunction=null,this.sliceHoverTransformFunction=null,this.sliceInitTransformFunction=null),null!==this.slicePathCustom&&!t||(this.slicePathCustom=this.wheelnav.slicePathCustom),null!==this.sliceClickablePathCustom&&!t||(this.sliceClickablePathCustom=this.wheelnav.sliceClickablePathCustom),null!==this.sliceSelectedPathCustom&&!t||(this.sliceSelectedPathCustom=this.wheelnav.sliceSelectedPathCustom),null!==this.sliceHoverPathCustom&&!t||(this.sliceHoverPathCustom=this.wheelnav.sliceHoverPathCustom),null!==this.sliceInitPathCustom&&!t||(this.sliceInitPathCustom=this.wheelnav.sliceInitPathCustom),null!==this.sliceTransformCustom&&!t||(this.sliceTransformCustom=this.wheelnav.sliceTransformCustom),null!==this.sliceSelectedTransformCustom&&!t||(this.sliceSelectedTransformCustom=this.wheelnav.sliceSelectedTransformCustom),null!==this.sliceHoverTransformCustom&&!t||(this.sliceHoverTransformCustom=this.wheelnav.sliceHoverTransformCustom),null!==this.sliceInitTransformCustom&&!t||(this.sliceInitTransformCustom=this.wheelnav.sliceInitTransformCustom),null!==this.initPercent&&!t||(this.initPercent=this.wheelnav.initPercent),null!==this.minPercent&&!t||(this.minPercent=this.wheelnav.minPercent),null!==this.maxPercent&&!t||(this.maxPercent=this.wheelnav.maxPercent),null!==this.hoverPercent&&!t||(this.hoverPercent=this.wheelnav.hoverPercent),null!==this.selectedPercent&&!t||(this.selectedPercent=this.wheelnav.selectedPercent),null!==this.clickablePercentMin&&!t||(this.clickablePercentMin=this.wheelnav.clickablePercentMin),null!==this.clickablePercentMax&&!t||(this.clickablePercentMax=this.wheelnav.clickablePercentMax),null!==this.titleSpreadScale&&!t||(null!==this.wheelnav.titleSpreadScale?this.titleSpreadScale=this.wheelnav.titleSpreadScale:this.titleSpreadScale=!1),null!==this.sliceAngle&&!t||null===this.wheelnav.sliceAngle||(this.sliceAngle=this.wheelnav.sliceAngle)},wheelnavItem.prototype.initPathsAndTransforms=function(){this.sliceHelper=new pathHelper,this.sliceHelper.centerX=this.wheelnav.centerX,this.sliceHelper.centerY=this.wheelnav.centerY,this.sliceHelper.wheelRadius=this.wheelnav.wheelRadius,this.sliceHelper.startAngle=this.baseAngle,this.sliceHelper.sliceAngle=this.sliceAngle,this.sliceHelper.itemIndex=this.itemIndex,this.sliceHelper.titleCurvedClockwise=this.titleCurvedClockwise,this.slicePathMin=this.slicePathFunction(this.sliceHelper,this.minPercent,this.slicePathCustom),this.slicePathMax=this.slicePathFunction(this.sliceHelper,this.maxPercent,this.slicePathCustom),null!==this.sliceSelectedPathFunction?this.selectedSlicePathMin=this.sliceSelectedPathFunction(this.sliceHelper,this.selectedPercent*this.minPercent,this.sliceSelectedPathCustom):this.selectedSlicePathMin=this.slicePathFunction(this.sliceHelper,this.selectedPercent*this.minPercent,this.sliceSelectedPathCustom),null!==this.sliceSelectedPathFunction?this.selectedSlicePathMax=this.sliceSelectedPathFunction(this.sliceHelper,this.selectedPercent*this.maxPercent,this.sliceSelectedPathCustom):this.selectedSlicePathMax=this.slicePathFunction(this.sliceHelper,this.selectedPercent*this.maxPercent,this.sliceSelectedPathCustom),null!==this.sliceHoverPathFunction?this.hoverSlicePathMin=this.sliceHoverPathFunction(this.sliceHelper,this.hoverPercent*this.minPercent,this.sliceHoverPathCustom):this.hoverSlicePathMin=this.slicePathFunction(this.sliceHelper,this.hoverPercent*this.minPercent,this.sliceHoverPathCustom),null!==this.sliceHoverPathFunction?this.hoverSlicePathMax=this.sliceHoverPathFunction(this.sliceHelper,this.hoverPercent*this.maxPercent,this.sliceHoverPathCustom):this.hoverSlicePathMax=this.slicePathFunction(this.sliceHelper,this.hoverPercent*this.maxPercent,this.sliceHoverPathCustom),null!==this.sliceClickablePathFunction&&(this.clickableSlicePathMin=this.sliceClickablePathFunction(this.sliceHelper,this.clickablePercentMin,this.sliceClickablePathCustom),this.clickableSlicePathMax=this.sliceClickablePathFunction(this.sliceHelper,this.clickablePercentMax,this.sliceClickablePathCustom)),null!==this.sliceInitPathFunction?this.sliceInitPath=this.sliceInitPathFunction(this.sliceHelper,this.initPercent,this.sliceInitPathCustom):this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.sliceInitPath=this.slicePathFunction(this.sliceHelper,this.maxPercent,this.sliceInitPathCustom):this.sliceInitPath=this.slicePathFunction(this.sliceHelper,this.minPercent,this.sliceInitPathCustom),null!==this.sliceTransformFunction?this.sliceTransform=this.sliceTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.titleRotateAngle,this.itemIndex,this.sliceTransformCustom):this.sliceTransform=sliceTransform().NullTransform,null!==this.sliceSelectedTransformFunction?this.selectTransform=this.sliceSelectedTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.titleRotateAngle,this.itemIndex,this.sliceSelectedTransformCustom):this.selectTransform=sliceTransform().NullTransform,null!==this.sliceHoverTransformFunction?this.hoverTransform=this.sliceHoverTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.titleRotateAngle,this.itemIndex,this.sliceHoverTransformCustom):this.hoverTransform=sliceTransform().NullTransform,null!==this.sliceInitTransformFunction?this.initTransform=this.sliceInitTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.titleRotateAngle,this.itemIndex,this.sliceInitTransformCustom):this.initTransform=sliceTransform().NullTransform,wheelnavTitle().isPathTitle(this.title)?(initNavTitle=new wheelnavTitle(this.title,this.wheelnav.raphael.raphael),basicNavTitleMin=new wheelnavTitle(this.title,this.wheelnav.raphael.raphael),basicNavTitleMax=new wheelnavTitle(this.title,this.wheelnav.raphael.raphael),hoverNavTitleMin=new wheelnavTitle(this.titleHover,this.wheelnav.raphael.raphael),hoverNavTitleMax=new wheelnavTitle(this.titleHover,this.wheelnav.raphael.raphael),selectedNavTitleMin=new wheelnavTitle(this.titleSelected,this.wheelnav.raphael.raphael),selectedNavTitleMax=new wheelnavTitle(this.titleSelected,this.wheelnav.raphael.raphael),this.navTitleSizeTransform=basicNavTitleMax.getTitleSizeTransform(this.titleWidth,this.titleHeight),this.navTitleSizeHoverTransform=hoverNavTitleMax.getTitleSizeTransform(this.titleHoverWidth,this.titleHoverHeight),this.navTitleSizeSelectedTransform=selectedNavTitleMax.getTitleSizeTransform(this.titleSelectedWidth,this.titleSelectedHeight)):(initNavTitle=new wheelnavTitle(this.title),basicNavTitleMin=new wheelnavTitle(this.title),basicNavTitleMax=new wheelnavTitle(this.title),hoverNavTitleMin=new wheelnavTitle(this.titleHover),hoverNavTitleMax=new wheelnavTitle(this.titleHover),selectedNavTitleMin=new wheelnavTitle(this.titleSelected),selectedNavTitleMax=new wheelnavTitle(this.titleSelected)),this.initNavTitle=initNavTitle.getTitlePercentAttr(this.sliceInitPath.titlePosX,this.sliceInitPath.titlePosY,this.titleWidth,this.titleHeight),this.basicNavTitleMin=basicNavTitleMin.getTitlePercentAttr(this.slicePathMin.titlePosX,this.slicePathMin.titlePosY,this.titleWidth,this.titleHeight),this.basicNavTitleMax=basicNavTitleMax.getTitlePercentAttr(this.slicePathMax.titlePosX,this.slicePathMax.titlePosY,this.titleWidth,this.titleHeight),this.hoverNavTitleMin=hoverNavTitleMin.getTitlePercentAttr(this.hoverSlicePathMin.titlePosX,this.hoverSlicePathMin.titlePosY,this.titleHoverWidth,this.titleHoverHeight),this.hoverNavTitleMax=hoverNavTitleMax.getTitlePercentAttr(this.hoverSlicePathMax.titlePosX,this.hoverSlicePathMax.titlePosY,this.titleHoverWidth,this.titleHoverHeight),this.selectedNavTitleMin=selectedNavTitleMin.getTitlePercentAttr(this.selectedSlicePathMin.titlePosX,this.selectedSlicePathMin.titlePosY,this.titleSelectedWidth,this.titleSelectedHeight),this.selectedNavTitleMax=selectedNavTitleMax.getTitlePercentAttr(this.selectedSlicePathMax.titlePosX,this.selectedSlicePathMax.titlePosY,this.titleSelectedWidth,this.titleSelectedHeight)},wheelnavItem.prototype.getCurrentPath=function(){var t=this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.selected?this.selectedSlicePathMax:this.hovered?this.hoverSlicePathMax:this.slicePathMax:this.selected?this.selectedSlicePathMin:this.hovered?this.hoverSlicePathMin:this.slicePathMin;return t},wheelnavItem.prototype.getCurrentClickablePath=function(){var t=this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.clickableSlicePathMax:this.clickableSlicePathMin;return t},wheelnavItem.prototype.getCurrentTitle=function(){var t=this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.selected?this.selectedNavTitleMax:this.hovered?this.hoverNavTitleMax:this.basicNavTitleMax:this.selected?this.selectedNavTitleMin:this.hovered?this.hoverNavTitleMin:this.basicNavTitleMin;return t},wheelnavItem.prototype.getItemRotateString=function(){return"r,"+this.currentRotateAngle.toString()+","+this.wheelnav.centerX+","+this.wheelnav.centerY},wheelnavItem.prototype.getTitleRotateString=function(t){var e="";return e+=this.getItemRotateString(),null!==this.titleRotateAngle&&t?e+=",r,"+(this.navAngle+this.titleRotateAngle).toString():e+=",r,"+(-this.currentRotateAngle).toString(),e},wheelnavTitle=function(t,e){var i;return null!==(this.title=t)?(void 0!==e&&(this.relativePath=e.pathToRelative(t),i=e.pathBBox(this.relativePath),this.centerX=i.cx,this.centerY=i.cy,this.width=i.width,this.height=i.height,this.startX=this.relativePath[0][1],this.startY=this.relativePath[0][2]),this.title=t):this.title="",this.isPathTitle=function(t){return!(null===t||"m"!==t.substr(0,1)&&"M"!==t.substr(0,1)||"z"!==t.substr(t.length-1,1)&&"Z"!==t.substr(t.length-1,1))&&(-1<t.indexOf(",")||-1<t.indexOf(" "))},this.isImageTitle=function(t){return void 0===t&&(t=this.title),null!==t&&"imgsrc:"===t.substr(0,7)},this},wheelnavTitle.prototype.getTitlePercentAttr=function(t,e,i,n){var l,s;return void 0!==this.relativePath?(l=t+(this.startX-this.centerX),s=e+(this.startY-this.centerY),this.relativePath[0][1]=l,this.relativePath[0][2]=s,{path:this.relativePath,title:this.title}):this.isImageTitle()?{x:t-i/2,y:e-n/2,width:i,height:n,title:this.title,src:this.title.substr(7,this.title.length)}:{x:t,y:e,title:this.title}},wheelnavTitle.prototype.getTitleSizeTransform=function(t,e){var i="";return null!==t&&null!==e&&(i="s",this.height>this.width?(i+=(t/this.height).toString()+",",i+=(e/this.height).toString()):(i+=(t/this.width).toString()+",",i+=(e/this.width).toString())),i},wheelnav.prototype.styleWheel=function(){this.cssMode?(this.spreaderPathInAttr={class:this.getSpreaderCssClass("in")},this.spreaderPathOutAttr={class:this.getSpreaderCssClass("out")},this.spreaderTitleInAttr={class:this.getSpreaderTitleCssClass("in")},this.spreaderTitleOutAttr={class:this.getSpreaderTitleCssClass("out")},this.markerAttr={class:this.getMarkerCssClass()}):(void 0!==this.spreaderPathInAttr&&null!==this.spreaderPathInAttr||(this.spreaderPathInAttr={fill:"#444",stroke:"#444","stroke-width":2,cursor:"pointer"}),void 0!==this.spreaderPathOutAttr&&null!==this.spreaderPathOutAttr||(this.spreaderPathOutAttr={fill:"#444",stroke:"#444","stroke-width":2,cursor:"pointer"}),void 0!==this.spreaderTitleInAttr&&null!==this.spreaderTitleInAttr||(this.spreaderTitleInAttr={fill:"#eee",stroke:"#444",cursor:"pointer"}),void 0!==this.spreaderTitleOutAttr&&null!==this.spreaderTitleOutAttr||(this.spreaderTitleOutAttr={fill:"#eee",stroke:"#444",cursor:"pointer"}),void 0!==this.markerAttr&&null!==this.markerAttr||(this.markerAttr={stroke:"#444","stroke-width":2}))},wheelnavItem.prototype.styleNavItem=function(){this.wheelnav.cssMode?(this.slicePathAttr={class:this.wheelnav.getSliceCssClass(this.wheelItemIndex,"basic")},this.sliceHoverAttr={class:this.wheelnav.getSliceCssClass(this.wheelItemIndex,"hover")},this.sliceSelectedAttr={class:this.wheelnav.getSliceCssClass(this.wheelItemIndex,"selected")},this.titleAttr={class:this.wheelnav.getTitleCssClass(this.wheelItemIndex,"basic")},this.titleHoverAttr={class:this.wheelnav.getTitleCssClass(this.wheelItemIndex,"hover")},this.titleSelectedAttr={class:this.wheelnav.getTitleCssClass(this.wheelItemIndex,"selected")},this.linePathAttr={class:this.wheelnav.getLineCssClass(this.wheelItemIndex,"basic")},this.lineHoverAttr={class:this.wheelnav.getLineCssClass(this.wheelItemIndex,"hover")},this.lineSelectedAttr={class:this.wheelnav.getLineCssClass(this.wheelItemIndex,"selected")}):(this.slicePathAttr={stroke:"#333","stroke-width":0,cursor:"pointer","fill-opacity":1},this.sliceHoverAttr={stroke:"#222","stroke-width":0,cursor:"pointer","fill-opacity":.77},this.sliceSelectedAttr={stroke:"#111","stroke-width":0,cursor:"default","fill-opacity":1},this.titleAttr={font:this.titleFont,fill:"#333",stroke:"none",cursor:"pointer"},this.titleHoverAttr={font:this.titleFont,fill:"#222",cursor:"pointer",stroke:"none"},this.titleSelectedAttr={font:this.titleFont,fill:"#fff",cursor:"default"},this.linePathAttr={stroke:"#444","stroke-width":1,cursor:"pointer"},this.lineHoverAttr={stroke:"#222","stroke-width":2,cursor:"pointer"},this.lineSelectedAttr={stroke:"#444","stroke-width":1,cursor:"default"}),this.sliceClickablePathAttr={fill:"#FFF",stroke:"#FFF","stroke-width":0,cursor:"pointer","fill-opacity":.01},this.sliceClickableHoverAttr={stroke:"#FFF","stroke-width":0,cursor:"pointer"},this.sliceClickableSelectedAttr={stroke:"#FFF","stroke-width":0,cursor:"default"}},wheelnav.prototype.getSliceCssClass=function(t,e){return"wheelnav-"+this.holderId+"-slice-"+e+"-"+t},wheelnav.prototype.getTitleCssClass=function(t,e){return"wheelnav-"+this.holderId+"-title-"+e+"-"+t},wheelnav.prototype.getLineCssClass=function(t,e){return"wheelnav-"+this.holderId+"-line-"+e+"-"+t},wheelnav.prototype.getSpreaderCssClass=function(t){return"wheelnav-"+this.holderId+"-spreader-"+t},wheelnav.prototype.getSpreaderTitleCssClass=function(t){return"wheelnav-"+this.holderId+"-spreadertitle-"+t},wheelnav.prototype.getMarkerCssClass=function(){return"wheelnav-"+this.holderId+"-marker"};var pathHelper=function(){return this.sliceRadius=0,this.startAngle=0,this.middleAngle=0,this.endAngle=0,this.sliceAngle=0,this.startTheta=0,this.middleTheta=0,this.endTheta=0,this.titlePosX=0,this.titlePosY=0,this.titleRadius=0,this.titleTheta=0,this.titleAngle=0,this.custom=null,this.centerX=0,this.centerY=0,this.wheelRadius=0,this.itemIndex=0,this.navItemCount=0,this.navAngle=0,this.titleCurvedClockwise=!1,this.setBaseValue=function(t,e){null===e?e=new slicePathCustomization:this.custom=e,this.sliceRadius=this.wheelRadius*t*.9,this.middleAngle=this.startAngle+this.sliceAngle/2,this.endAngle=this.startAngle+this.sliceAngle,this.startTheta=this.getTheta(this.startAngle),this.middleTheta=this.getTheta(this.middleAngle),this.endTheta=this.getTheta(this.endAngle),null!==e?(null!==e.titleRadiusPercent&&(this.titleRadius=this.sliceRadius*e.titleRadiusPercent),null!==e.titleSliceAnglePercent&&(this.titleTheta=this.getTheta(this.startAngle+this.sliceAngle*e.titleSliceAnglePercent),this.titleAngle=this.startAngle+this.sliceAngle*e.titleSliceAnglePercent)):(this.titleRadius=.5*this.sliceRadius,this.titleTheta=this.middleTheta,this.titleAngle=this.middleAngle),this.setTitlePos()},this.setTitlePos=function(){this.titlePosX=this.titleRadius*Math.cos(this.titleTheta)+this.centerX,this.titlePosY=this.titleRadius*Math.sin(this.titleTheta)+this.centerY},this.getX=function(t,e){return e*Math.cos(this.getTheta(t))+this.centerX},this.getY=function(t,e){return e*Math.sin(this.getTheta(t))+this.centerY},this.MoveTo=function(t,e){return["M",this.getX(t,e),this.getY(t,e)]},this.MoveToXY=function(t,e){return["M",t,e]},this.MoveToCenter=function(){return["M",this.centerX,this.centerY]},this.LineTo=function(t,e,i,n){return void 0===i&&(i=t),void 0===n&&(n=e),["L",this.getX(t,e),this.getY(i,n)]},this.LineToXY=function(t,e){return["L",t,e]},this.ArcTo=function(t,e,i){return["A",t,t,0,0,1,this.getX(e,i),this.getY(e,i)]},this.ArcToXY=function(t,e,i){return["A",t,t,0,0,1,e,i]},this.ArcBackTo=function(t,e,i){return["A",t,t,0,0,0,this.getX(e,i),this.getY(e,i)]},this.ArcBackToXY=function(t,e,i){return["A",t,t,0,0,0,e,i]},this.CubicBezierTo=function(t,e,i,n,l,s){return["C",this.getX(t,e),this.getY(t,e),this.getX(i,n),this.getY(i,n),this.getX(l,s),this.getY(l,s)]},this.CubicBezierToXY=function(t,e,i,n,l,s){return["C",t,e,i,n,l,s]},this.StartSpreader=function(t,e,i){this.endAngle-this.startAngle==360?t.push(this.MoveTo(e,i)):(t.push(this.MoveToCenter()),t.push(this.LineTo(e,i)))},this.getCurvedTitlePathString=function(){var t=this.titleAngle-this.sliceAngle/2,e=this.titleAngle+this.sliceAngle/2,i=[];return this.titleCurvedClockwise?(i.push(this.MoveTo(t,this.titleRadius)),i.push(this.ArcTo(this.titleRadius,e,this.titleRadius))):(i.push(this.MoveTo(e,this.titleRadius)),i.push(this.ArcBackTo(this.titleRadius,t,this.titleRadius))),i},this.Close=function(){return["z"]},this.getTheta=function(t){return t%360*Math.PI/180},this.radians=function(t){return t*Math.PI/180},this.degrees=function(t){return 180*t/Math.PI},this},slicePathCustomization=function(){return this.titleRadiusPercent=.5,this.titleSliceAnglePercent=.5,this},spreaderPathCustomization=function(){return this.titleRadiusPercent=0,this.titleSliceAnglePercent=.5,this.spreaderPercent=1,this},markerPathCustomization=function(){return this.titleRadiusPercent=1,this.titleSliceAnglePercent=.5,this.markerPercent=1.05,this};slicePath=function(){return this.NullSlice=function(t,e,i){return t.setBaseValue(e,i),titlePathString=t.getCurvedTitlePathString(),{slicePathString:"",linePathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY,titlePathString:titlePathString}},this.NullInitSlice=function(t,e,i){return t.setBaseValue(e,i),slicePathString=[t.MoveToCenter(),t.Close()],titlePathString=t.getCurvedTitlePathString(),{slicePathString:slicePathString,linePathString:slicePathString,titlePosX:t.centerX,titlePosY:t.centerY,titlePathString:titlePathString}},this.PieSliceCustomization=function(){var t=new slicePathCustomization;return t.titleRadiusPercent=.6,t.arcBaseRadiusPercent=1,t.arcRadiusPercent=1,t.startRadiusPercent=0,t},this.PieSlice=function(t,e,i){null===i&&(i=PieSliceCustomization()),t.setBaseValue(e,i);var n=t.sliceRadius*i.arcBaseRadiusPercent,l=t.sliceRadius*i.arcRadiusPercent;return slicePathString=[],slicePathString.push(t.MoveTo(t.middleAngle,i.startRadiusPercent*t.sliceRadius)),slicePathString.push(t.LineTo(t.startAngle,n)),180<t.sliceAngle&&slicePathString.push(t.ArcTo(l,t.middleAngle,n)),slicePathString.push(t.ArcTo(l,t.endAngle,n)),slicePathString.push(t.Close()),titlePathString=t.getCurvedTitlePathString(),{slicePathString:slicePathString,linePathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY,titlePathString:titlePathString}},this.FlowerSlice=function(t,e,i){null===i&&((i=PieSliceCustomization()).titleRadiusPercent=.5,i.arcBaseRadiusPercent=.65,i.arcRadiusPercent=.14);var n=PieSlice(t,e,i);return{slicePathString:n.slicePathString,linePathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY,titlePathString:n.titlePathString}},this.PieArrowSliceCustomization=function(){var t=new slicePathCustomization;return t.titleRadiusPercent=.6,t.arrowRadiusPercent=1.1,t},this.PieArrowSlice=function(t,e,i){null===i&&(i=PieArrowSliceCustomization()),t.setBaseValue(e,i),r=t.sliceRadius,arrowAngleStart=t.startAngle+.45*t.sliceAngle,arrowAngleEnd=t.startAngle+.55*t.sliceAngle;var n=r*i.arrowRadiusPercent;return slicePathString=[t.MoveToCenter(),t.LineTo(t.startAngle,r),t.ArcTo(r,arrowAngleStart,r),t.LineTo(t.middleAngle,n),t.LineTo(arrowAngleEnd,r),t.ArcTo(r,t.endAngle,r),t.Close()],titlePathString=t.getCurvedTitlePathString(),{slicePathString:slicePathString,linePathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY,titlePathString:titlePathString}},this.PieArrowBasePieSlice=function(t,e,i){null===i&&(i=PieArrowSliceCustomization()),i.arrowRadiusPercent=1;var n=PieArrowSlice(t,e,i);return{slicePathString:n.slicePathString,linePathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY,titlePathString:n.titlePathString}},this.DonutSliceCustomization=function(){var t=new slicePathCustomization;return t.minRadiusPercent=.37,t.maxRadiusPercent=.9,t},this.DonutSlice=function(t,e,i){return null===i&&(i=DonutSliceCustomization()),maxRadius=t.wheelRadius*e*i.maxRadiusPercent,minRadius=t.wheelRadius*e*i.minRadiusPercent,t.setBaseValue(e,i),t.titleRadius=(maxRadius+minRadius)/2,t.setTitlePos(),slicePathString=[t.MoveTo(t.startAngle,minRadius),t.LineTo(t.startAngle,maxRadius),t.ArcTo(maxRadius,t.middleAngle,maxRadius),t.ArcTo(maxRadius,t.endAngle,maxRadius),t.LineTo(t.endAngle,minRadius),t.ArcBackTo(minRadius,t.middleAngle,minRadius),t.ArcBackTo(minRadius,t.startAngle,minRadius),t.Close()],titlePathString=t.getCurvedTitlePathString(),{slicePathString:slicePathString,linePathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY,titlePathString:titlePathString}},this.CogSliceCustomization=function(){var t=new slicePathCustomization;return t.titleRadiusPercent=.55,t.isBasePieSlice=!1,t},this.CogSlice=function(t,e,i){return null===i&&(i=CogSliceCustomization()),t.setBaseValue(e,i),r=t.sliceRadius,rbase=t.wheelRadius*e*.83,percentAngle0625=t.startAngle+.0625*t.sliceAngle,percentAngle1250=t.startAngle+.125*t.sliceAngle,percentAngle1875=t.startAngle+.1875*t.sliceAngle,percentAngle2500=t.startAngle+.25*t.sliceAngle,percentAngle3125=t.startAngle+.3125*t.sliceAngle,percentAngle3750=t.startAngle+.375*t.sliceAngle,percentAngle4375=t.startAngle+.4375*t.sliceAngle,percentAngle5000=t.startAngle+.5*t.sliceAngle,percentAngle5625=t.startAngle+.5625*t.sliceAngle,percentAngle6250=t.startAngle+.625*t.sliceAngle,percentAngle6875=t.startAngle+.6875*t.sliceAngle,percentAngle7500=t.startAngle+.75*t.sliceAngle,percentAngle8125=t.startAngle+.8125*t.sliceAngle,percentAngle8750=t.startAngle+.875*t.sliceAngle,percentAngle9375=t.startAngle+.9375*t.sliceAngle,percentAngle9687=t.startAngle+.96875*t.sliceAngle,slicePathString=i.isBasePieSlice?(r=rbase,[t.MoveToCenter(),t.LineTo(t.startAngle,r),t.ArcTo(r,percentAngle0625,r),t.ArcTo(r,percentAngle1250,r),t.ArcTo(r,percentAngle1875,r),t.ArcTo(r,percentAngle2500,r),t.ArcTo(r,percentAngle3125,r),t.ArcTo(r,percentAngle3750,r),t.ArcTo(r,percentAngle4375,r),t.ArcTo(r,percentAngle5000,r),t.ArcTo(r,percentAngle5625,r),t.ArcTo(r,percentAngle6250,r),t.ArcTo(r,percentAngle6875,r),t.ArcTo(r,percentAngle7500,r),t.ArcTo(r,percentAngle8125,r),t.ArcTo(r,percentAngle8750,r),t.ArcTo(r,percentAngle9375,r),t.ArcTo(r,percentAngle9687,r),t.ArcTo(r,t.endAngle,r),t.Close()]):[t.MoveToCenter(),t.LineTo(t.startAngle,r),t.ArcTo(r,percentAngle0625,r),t.LineTo(percentAngle0625,rbase),t.ArcTo(rbase,percentAngle1875,rbase),t.LineTo(percentAngle1875,r),t.ArcTo(r,percentAngle3125,r),t.LineTo(percentAngle3125,rbase),t.ArcTo(rbase,percentAngle4375,rbase),t.LineTo(percentAngle4375,r),t.ArcTo(r,percentAngle5625,r),t.LineTo(percentAngle5625,rbase),t.ArcTo(rbase,percentAngle6875,rbase),t.LineTo(percentAngle6875,r),t.ArcTo(r,percentAngle8125,r),t.LineTo(percentAngle8125,rbase),t.ArcTo(rbase,percentAngle9375,rbase),t.LineTo(percentAngle9375,r),t.ArcTo(r,t.endAngle,r),t.Close()],titlePathString=t.getCurvedTitlePathString(),{slicePathString:slicePathString,linePathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY,titlePathString:titlePathString}},this.CogBasePieSlice=function(t,e,i){null===i&&(i=CogSliceCustomization()),i.isBasePieSlice=!0;var n=CogSlice(t,e,i);return{slicePathString:n.slicePathString,linePathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY,titlePathString:n.titlePathString}},this.StarSliceCustomization=function(){var t=new slicePathCustomization;return t.titleRadiusPercent=.44,t.minRadiusPercent=.5,t.isBasePieSlice=!1,t},this.StarSlice=function(t,e,i){return null===i&&(i=StarSliceCustomization()),t.setBaseValue(e,i),r=t.wheelRadius*e,rbase=r*i.minRadiusPercent,slicePathString=i.isBasePieSlice?(r=t.sliceRadius,[t.MoveToCenter(),t.LineTo(t.startAngle,r),t.ArcTo(r,t.middleAngle,r),t.ArcTo(r,t.endAngle,r),t.Close()]):[t.MoveToCenter(),t.LineTo(t.startAngle,rbase),t.LineTo(t.middleAngle,r),t.LineTo(t.endAngle,rbase),t.Close()],titlePathString=t.getCurvedTitlePathString(),{slicePathString:slicePathString,linePathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY,titlePathString:titlePathString}},this.StarBasePieSlice=function(t,e,i){null===i&&(i=StarSliceCustomization()),i.titleRadiusPercent=.6,i.isBasePieSlice=!0;var n=StarSlice(t,e,i);return{slicePathString:n.slicePathString,linePathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY,titlePathString:n.titlePathString}},this.MenuSliceCustomization=function(){var t=new slicePathCustomization;return t.menuRadius=35,t.titleRadiusPercent=.63,t.isSelectedLine=!1,t.lineBaseRadiusPercent=0,t},this.MenuSlice=function(t,e,i){null===i&&(i=MenuSliceCustomization()),t.setBaseValue(e,i),x=t.centerX,y=t.centerY;var n=t.wheelRadius*e;t.titleRadius=n*i.titleRadiusPercent,t.setTitlePos();var l=e*i.menuRadius;return e<=.05&&(l=10),middleTheta=t.middleTheta,slicePathString=[["M",t.titlePosX-l*Math.cos(middleTheta),t.titlePosY-l*Math.sin(middleTheta)],["A",l,l,0,0,1,t.titlePosX+l*Math.cos(middleTheta),t.titlePosY+l*Math.sin(middleTheta)],["A",l,l,0,0,1,t.titlePosX-l*Math.cos(middleTheta),t.titlePosY-l*Math.sin(middleTheta)],["z"]],linePathString=e<=.05?[["M",x,y],["A",1,1,0,0,1,x+1,y+1]]:i.isSelectedLine?[t.MoveTo(t.middleAngle,i.lineBaseRadiusPercent*n),t.ArcTo(n/3,t.middleAngle,t.titleRadius-l)]:[t.MoveTo(t.middleAngle,i.lineBaseRadiusPercent*n),t.ArcTo(n/2,t.middleAngle,t.titleRadius-l)],titlePathString=t.getCurvedTitlePathString(),{slicePathString:slicePathString,linePathString:linePathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY,titlePathString:titlePathString}},this.MenuSliceSelectedLine=function(t,e,i){null===i&&(i=MenuSliceCustomization()),i.isSelectedLine=!0;var n=MenuSlice(t,e,i);return{slicePathString:n.slicePathString,linePathString:n.linePathString,titlePosX:n.titlePosX,titlePosY:n.titlePosY,titlePathString:n.titlePathString}},this.MenuSliceWithoutLine=function(t,e,i){var n=MenuSlice(t,e,i);return{slicePathString:n.slicePathString,linePathString:"",titlePosX:n.titlePosX,titlePosY:n.titlePosY,titlePathString:n.titlePathString}},this.LineSlice=function(t,e,i){return t.setBaseValue(e,i),r=t.sliceRadius,60<t.sliceAngle&&t.sliceAngle<180?t.titleRadius=r*(180/t.sliceAngle/5):t.titleRadius=.55*r,t.setTitlePos(),slicePathString=t.sliceAngle<180?[t.MoveToCenter(),t.LineTo(t.startAngle,r),t.LineTo(t.endAngle,r),t.Close()]:180===t.startAngle||0===t.startAngle||-180===t.startAngle||360===t.startAngle?[t.MoveToCenter(),t.LineTo(t.startAngle,r),t.LineTo(t.startAngle,r,t.middleAngle,r),t.LineTo(t.endAngle,r,t.middleAngle,r),t.LineTo(t.endAngle,r),t.Close()]:[t.MoveToCenter(),t.LineTo(t.startAngle,r),t.LineTo(t.middleAngle,r,t.startAngle,r),t.LineTo(t.middleAngle,r,t.endAngle,r),t.LineTo(t.endAngle,r),t.Close()],titlePathString=t.getCurvedTitlePathString(),{slicePathString:slicePathString,linePathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY,titlePathString:titlePathString}},this.EyeSliceCustomization=function(){var t=new slicePathCustomization;return t.titleRadiusPercent=.68,t},this.EyeSlice=function(t,e,i){return null===i&&(i=EyeSliceCustomization()),t.setBaseValue(e,i),r=t.wheelRadius*e*.7,0===e&&(r=.01),startAngle=t.startAngle,endAngle=t.endAngle,180===t.sliceAngle&&(startAngle=t.startAngle+t.sliceAngle/4,endAngle=t.startAngle+t.sliceAngle-t.sliceAngle/4),slicePathString=[t.MoveTo(endAngle,r),t.ArcTo(r,startAngle,r),t.ArcTo(r,endAngle,r),t.Close()],titlePathString=t.getCurvedTitlePathString(),{slicePathString:slicePathString,linePathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY,titlePathString:titlePathString}},this.WheelSlice=function(t,e,i){var n,l;return t.setBaseValue(e,i),x=t.centerX,y=t.centerY,r=t.sliceRadius,startTheta=t.startTheta,middleTheta=t.middleTheta,endTheta=t.endTheta,l=t.sliceAngle<120?(t.titleRadius=.57*r,n=.9,middleRadiusPercent=.87):t.sliceAngle<180?(t.titleRadius=.52*r,n=.91,middleRadiusPercent=.87):(t.titleRadius=.45*r,n=.873,middleRadiusPercent=.87,.94),slicePathString=[t.MoveTo(t.middleAngle,.07*r),["L",.07*r*Math.cos(middleTheta)+r*l*Math.cos(startTheta)+x,.07*r*Math.sin(middleTheta)+r*l*Math.sin(startTheta)+y],["A",r*n,r*n,0,0,1,.07*r*Math.cos(middleTheta)+r*middleRadiusPercent*Math.cos(middleTheta)+x,.07*r*Math.sin(middleTheta)+r*middleRadiusPercent*Math.sin(middleTheta)+y],["A",r*n,r*n,0,0,1,.07*r*Math.cos(middleTheta)+r*l*Math.cos(endTheta)+x,.07*r*Math.sin(middleTheta)+r*l*Math.sin(endTheta)+y],t.Close()],linePathString=[t.MoveTo(t.startAngle,r),t.ArcTo(r,t.middleAngle,r),t.ArcTo(r,t.endAngle,r),t.ArcBackTo(r,t.middleAngle,r),t.ArcBackTo(r,t.startAngle,r)],t.setTitlePos(),titlePathString=t.getCurvedTitlePathString(),{slicePathString:slicePathString,linePathString:linePathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY,titlePathString:titlePathString}},this.OuterStrokeSlice=function(t,e,i){return t.setBaseValue(e,i),x=t.centerX,y=t.centerY,r=t.sliceRadius,innerRadius=r/4,t.sliceAngle<120?t.titleRadius=.57*r:t.sliceAngle<180?t.titleRadius=.52*r:t.titleRadius=.45*r,linePathString=[t.MoveTo(t.startAngle,innerRadius),t.LineTo(t.startAngle,r),t.MoveTo(t.endAngle,innerRadius),t.LineTo(t.endAngle,r)],slicePathString=[t.MoveTo(t.startAngle,r),t.ArcTo(r,t.middleAngle,r),t.ArcTo(r,t.endAngle,r),t.ArcBackTo(r,t.middleAngle,r),t.ArcBackTo(r,t.startAngle,r),t.MoveTo(t.startAngle,innerRadius),t.ArcTo(innerRadius,t.middleAngle,innerRadius),t.ArcTo(innerRadius,t.endAngle,innerRadius),t.ArcBackTo(innerRadius,t.middleAngle,innerRadius),t.ArcBackTo(innerRadius,t.startAngle,innerRadius)],t.setTitlePos(),titlePathString=t.getCurvedTitlePathString(),{slicePathString:slicePathString,linePathString:linePathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY,titlePathString:titlePathString}},this.TabSlice=function(t,e,i){var n=.9*t.wheelRadius,l=2*n/(360/t.sliceAngle);return x=t.centerX,y=t.centerY,itemIndex=t.itemIndex,titlePosX=x,titlePosY=itemIndex*l+y+l/2-n,slicePathString=[],slicePathString.push(t.MoveToXY(x-l/2,itemIndex*l+y-n)),slicePathString.push(t.LineToXY(l/2+x,itemIndex*l+y-n)),slicePathString.push(t.LineToXY(l/2+x,(itemIndex+1)*l+y-n)),slicePathString.push(t.LineToXY(x-l/2,(itemIndex+1)*l+y-n)),slicePathString.push(t.Close()),titlePathString=[],titlePathString.push(t.MoveToXY(x-l/2,(itemIndex+1)*l+y-n)),titlePathString.push(t.ArcToXY(2*l,l/2+x,itemIndex*l+y-n)),{slicePathString:slicePathString,linePathString:"",titlePosX:titlePosX,titlePosY:titlePosY,titlePathString:titlePathString}},this.YinYangSlice=function(t,e,i){return t.setBaseValue(e,i),r=t.sliceRadius,slicePathString=[t.MoveToCenter(),t.ArcTo(r/2,t.startAngle,r),t.ArcTo(r,t.middleAngle,r),t.ArcTo(r,t.endAngle,r),t.ArcBackTo(r/2,0,0),t.Close()],titlePosX=t.getX(t.startAngle,r/2),titlePosY=t.getY(t.startAngle,r/2),titlePathString=[t.MoveToCenter(),t.ArcTo(r/4,t.startAngle+.2*t.sliceAngle,.8*r)],{slicePathString:slicePathString,linePathString:slicePathString,titlePosX:titlePosX,titlePosY:titlePosY,titlePathString:titlePathString}},this.WebSlice=function(t,e,i){return t.setBaseValue(e,i),r=t.sliceRadius,t.titleRadius=.55*r,t.setTitlePos(),linePathString=[t.MoveToCenter(),t.LineTo(t.startAngle,1.1*r),t.MoveToCenter(),t.LineTo(t.endAngle,1.1*r),t.MoveTo(t.startAngle,.15*r),t.LineTo(t.endAngle,.15*r),t.MoveTo(t.startAngle,.35*r),t.LineTo(t.endAngle,.35*r),t.MoveTo(t.startAngle,.55*r),t.LineTo(t.endAngle,.55*r),t.MoveTo(t.startAngle,.75*r),t.LineTo(t.endAngle,.75*r),t.MoveTo(t.startAngle,.95*r),t.LineTo(t.endAngle,.95*r),t.Close()],titlePathString=t.getCurvedTitlePathString(),{slicePathString:"",linePathString:linePathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY,titlePathString:titlePathString}},this.WinterSliceCustomization=function(){var t=new slicePathCustomization;return t.titleRadiusPercent=.85,t.arcRadiusPercent=1,t},this.WinterSlice=function(t,e,i){null===i&&(i=WinterSliceCustomization()),t.setBaseValue(e,i),sliceAngle=t.sliceAngle,parallelAngle=t.startAngle+sliceAngle/4,parallelAngle2=t.startAngle+sliceAngle/4*3,borderAngle1=t.startAngle+sliceAngle/200,borderAngle2=t.startAngle+sliceAngle/2-sliceAngle/200,borderAngle3=t.startAngle+sliceAngle/2+sliceAngle/200,borderAngle4=t.startAngle+sliceAngle-sliceAngle/200;var n=t.sliceRadius*i.arcRadiusPercent;return slicePathString=[t.MoveToCenter(),t.MoveTo(parallelAngle,n/100),t.LineTo(borderAngle1,n/2),t.LineTo(parallelAngle,n-n/100),t.LineTo(borderAngle2,n/2),t.LineTo(parallelAngle,n/100),t.MoveTo(parallelAngle2,n/100),t.LineTo(borderAngle4,n/2),t.LineTo(parallelAngle2,n-n/100),t.LineTo(borderAngle3,n/2),t.LineTo(parallelAngle2,n/100),t.Close()],linePathString=[t.MoveTo(parallelAngle,n),t.LineTo(borderAngle2,n/2),t.MoveTo(borderAngle3,n/2),t.LineTo(parallelAngle2,n)],titlePathString=t.getCurvedTitlePathString(),{slicePathString:slicePathString,linePathString:linePathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY,titlePathString:titlePathString}},this.TutorialSliceCustomization=function(){var t=new slicePathCustomization;return t.titleRadiusPercent=.6,t.isMoveTo=!1,t.isLineTo=!1,t.isArcTo=!1,t.isArcBackTo=!1,t},this.TutorialSlice=function(t,e,i){return null===i&&(i=TutorialSliceCustomization()),t.setBaseValue(e,i),slicePathString=[],titlePathString=[],slicePathString.push(t.MoveToCenter()),titlePathRadius1=t.titleRadius,titlePathRadius2=t.titleRadius,titlePathEndangle=t.startAngle,!(titlePathStartRadius=0)===i.isMoveTo&&(slicePathString.push(t.MoveTo(t.middleAngle,t.sliceRadius/4)),titlePathRadius1*=1.05,titlePathRadius2*=.95,titlePathStartRadius+=t.sliceRadius/16,titlePathEndangle=t.startAngle+t.sliceAngle/8),i.isLineTo&&(slicePathString.push(t.LineTo(t.startAngle,t.sliceRadius)),titlePathRadius1*=1.1,titlePathRadius2*=.9,titlePathStartRadius+=t.sliceRadius/16,titlePathEndangle=t.startAngle+t.sliceAngle/4),i.isArcTo&&(slicePathString.push(t.ArcTo(t.sliceRadius,t.middleAngle,t.sliceRadius)),titlePathRadius1*=1.2,titlePathRadius2*=.8,titlePathStartRadius+=t.sliceRadius/8,titlePathEndangle=t.middleAngle-t.sliceAngle/8),i.isArcBackTo&&(slicePathString.push(t.ArcBackTo(t.sliceRadius,t.endAngle,t.sliceRadius)),titlePathRadius1*=1.3,titlePathRadius2*=.7,titlePathStartRadius+=t.sliceRadius/8,titlePathEndangle=t.endAngle),slicePathString.push(t.Close()),titlePathString.push(t.MoveTo(t.startAngle,titlePathStartRadius)),titlePathString.push(t.CubicBezierTo(t.middleAngle-t.sliceAngle/8,titlePathRadius1,t.middleAngle+t.sliceAngle/8,titlePathRadius2,titlePathEndangle,t.sliceRadius)),linePathString=[t.MoveToCenter(),t.LineTo(t.startAngle,t.sliceRadius),t.ArcTo(t.sliceRadius,t.middleAngle,t.sliceRadius),t.ArcTo(t.sliceRadius,t.endAngle,t.sliceRadius),t.Close()],{slicePathString:slicePathString,linePathString:linePathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY,titlePathString:titlePathString}},this};var sliceTransform=function(){this.startAngle=0,this.startTheta=0,this.middleTheta=0,this.endTheta=0;var c=function(t){return t%360*Math.PI/180};return this.NullTransform=function(t,e,i,n,l,s,r,a){return{sliceTransformString:"",lineTransformString:"",titleTransformString:""}},this.MoveMiddleTransform=function(t,e,i,n,l,s,r,a){!function(t,e){this.startAngle=t,this.startTheta=c(startAngle),this.middleTheta=c(startAngle+e/2),this.endTheta=c(startAngle+e)}(n,l);var h,o="t"+(i/10*Math.cos(middleTheta)).toString()+","+(i/10*Math.sin(middleTheta)).toString();return h=c(null!==s?-s:n-r*l+l/2),{sliceTransformString:o,lineTransformString:o,titleTransformString:"s1,r0,t"+(i/10*Math.cos(h)).toString()+","+(i/10*Math.sin(h)).toString()}},this.RotateTransform=function(t,e,i,n,l,s,r,a){var h="s1,r360";return{sliceTransformString:h,lineTransformString:h,titleTransformString:h}},this.RotateHalfTransform=function(t,e,i,n,l,s,r,a){var h="s1,r90";return{sliceTransformString:h,lineTransformString:h,titleTransformString:h}},this.RotateTitleTransform=function(t,e,i,n,l,s,r,a){return{sliceTransformString:"",lineTransformString:"",titleTransformString:"s1,r360"}},this.ScaleTransform=function(t,e,i,n,l,s,r,a){return{sliceTransformString:"s1.2",lineTransformString:"",titleTransformString:"s1.2"}},this.ScaleTitleTransform=function(t,e,i,n,l,s,r,a){return{sliceTransformString:"",lineTransformString:"",titleTransformString:"s1.3"}},this.RotateScaleTransform=function(t,e,i,n,l,s,r,a){var h="r360,s1.3";return{sliceTransformString:h,lineTransformString:"",titleTransformString:h}},this.CustomTransform=function(t,e,i,n,l,s,r,a){var h=a.scaleString+","+a.rotateString;return{sliceTransformString:h,lineTransformString:h,titleTransformString:h}},this.CustomTitleTransform=function(t,e,i,n,l,s,r,a){return{sliceTransformString:"",lineTransformString:"",titleTransformString:a.scaleString+","+a.rotateString}},this},sliceTransformCustomization=function(){return this.scaleString="s1",this.rotateString="r0",this};spreader=function(t){var e,i,n,l,s,r,a;return this.wheelnav=t,this.wheelnav.spreaderEnable&&(this.spreaderHelper=new pathHelper,this.spreaderHelper.centerX=this.wheelnav.centerX,this.spreaderHelper.centerY=this.wheelnav.centerY,this.spreaderHelper.navItemCount=this.wheelnav.navItemCount,this.spreaderHelper.navAngle=this.wheelnav.navAngle,this.spreaderHelper.wheelRadius=this.wheelnav.spreaderRadius,this.spreaderHelper.startAngle=this.wheelnav.spreaderStartAngle,this.spreaderHelper.sliceAngle=this.wheelnav.spreaderSliceAngle,e=this.wheelnav,this.animateeffect="bounce",this.animatetime=1500,null!==this.wheelnav.animateeffect&&(this.animateeffect=this.wheelnav.animateeffect),null!==this.wheelnav.animatetime&&(this.animatetime=this.wheelnav.animatetime),null!==this.wheelnav.spreaderTitleFont?this.fontAttr={font:this.wheelnav.spreaderTitleFont}:this.fontAttr={font:"100 32px Impact, Charcoal, sans-serif"},this.spreaderPathIn=this.wheelnav.spreaderPathFunction(this.spreaderHelper,this.wheelnav.spreaderInPercent,this.wheelnav.spreaderPathCustom),this.spreaderPathOut=this.wheelnav.spreaderPathFunction(this.spreaderHelper,this.wheelnav.spreaderOutPercent,this.wheelnav.spreaderPathCustom),i=this.spreaderPathOut,e.initPercent<e.maxPercent&&(i=this.spreaderPathIn),this.spreaderPath=this.wheelnav.raphael.path(i.spreaderPathString),this.spreaderPath.attr(e.spreaderPathAttr),this.spreaderPath.id=e.getSpreaderId(),this.spreaderPath.node.id=this.spreaderPath.id,this.spreaderPath.click(function(){e.spreadWheel()}),this.inTitleWidth=this.wheelnav.spreaderInTitleWidth,this.inTitleHeight=this.wheelnav.spreaderInTitleHeight,this.outTitleWidth=this.wheelnav.spreaderOutTitleWidth,this.outTitleHeight=this.wheelnav.spreaderOutTitleHeight,null!==this.inTitleWidth&&null===this.inTitleHeight&&(this.inTitleHeight=this.inTitleWidth),null===this.inTitleWidth&&null!==this.inTitleHeight&&(this.inTitleWidth=this.inTitleHeight),null!==this.outTitleWidth&&null===this.outTitleHeight&&(this.outTitleHeight=this.outTitleWidth),null===this.outTitleWidth&&null!==this.outTitleHeight&&(this.outTitleWidth=this.outTitleHeight),wheelnavTitle().isImageTitle(this.wheelnav.spreaderOutTitle)&&(null===this.inTitleWidth&&(this.inTitleWidth=32),null===this.inTitleHeight&&(this.inTitleHeight=32),null===this.outTitleWidth&&(this.outTitleWidth=32),null===this.outTitleHeight&&(this.outTitleHeight=32)),inTitle=wheelnavTitle().isPathTitle(this.wheelnav.spreaderInTitle)?new wheelnavTitle(this.wheelnav.spreaderInTitle,this.wheelnav.raphael.raphael):new wheelnavTitle(this.wheelnav.spreaderInTitle),this.inTitleSizeTransform=inTitle.getTitleSizeTransform(this.inTitleWidth,this.inTitleHeight),this.inTitle=inTitle.getTitlePercentAttr(this.spreaderPathIn.titlePosX,this.spreaderPathIn.titlePosY,this.inTitleWidth,this.inTitleHeight),outTitle=wheelnavTitle().isPathTitle(this.wheelnav.spreaderOutTitle)?new wheelnavTitle(this.wheelnav.spreaderOutTitle,this.wheelnav.raphael.raphael):new wheelnavTitle(this.wheelnav.spreaderOutTitle),this.outTitleSizeTransform=outTitle.getTitleSizeTransform(this.outTitleWidth,this.outTitleHeight),this.outTitle=outTitle.getTitlePercentAttr(this.spreaderPathOut.titlePosX,this.spreaderPathOut.titlePosY,this.outTitleWidth,this.outTitleHeight),n=this.outTitle,l=this.wheelnav.spreaderTitleOutAttr,s=this.outTitleWidth,r=this.outTitleHeight,a=this.outTitleSizeTransform,e.initPercent<e.maxPercent&&(n=this.inTitle,l=this.wheelnav.spreaderTitleInAttr,s=this.inTitleWidth,r=this.inTitleHeight,a=this.inTitleSizeTransform),wheelnavTitle().isPathTitle(this.wheelnav.spreaderOutTitle)?this.spreaderTitle=e.raphael.path(n.path):wheelnavTitle().isImageTitle(this.wheelnav.spreaderOutTitle)?this.spreaderTitle=this.wheelnav.raphael.image(n.src,i.titlePosX-s/2,i.titlePosY-r/2,s,r):this.spreaderTitle=e.raphael.text(i.titlePosX,i.titlePosY,n.title),this.spreaderTitle.attr(this.fontAttr),this.spreaderTitle.attr(l),this.spreaderTitle.attr({transform:a}),this.spreaderTitle.id=e.getSpreaderTitleId(),this.spreaderTitle.node.id=this.spreaderTitle.id,this.spreaderTitle.click(function(){e.spreadWheel()}),this.setCurrentTransform()),this},spreader.prototype.setCurrentTransform=function(t){var e,i,n;this.wheelnav.spreaderEnable&&(void 0!==t&&!1!==t||(currentPath=this.wheelnav.currentPercent>this.wheelnav.minPercent?this.spreaderPathOut.spreaderPathString:this.spreaderPathIn.spreaderPathString,spreaderTransformAttr={path:currentPath},this.spreaderPath.animate(spreaderTransformAttr,this.animatetime,this.animateeffect),n=this.wheelnav.currentPercent===this.wheelnav.maxPercent?(e=this.outTitle,i=this.wheelnav.spreaderTitleOutAttr,this.spreaderPath.attr(this.wheelnav.spreaderPathOutAttr),this.outTitleSizeTransform):(e=this.inTitle,i=this.wheelnav.spreaderTitleInAttr,this.spreaderPath.attr(this.wheelnav.spreaderPathInAttr),this.inTitleSizeTransform),wheelnavTitle().isPathTitle(e.title)?(i.path=e.path,i.transform=n):wheelnavTitle().isImageTitle(e.title)?(i.x=e.x,i.y=e.y,i.width=e.width,i.height=e.height,this.spreaderTitle.attr({src:e.src})):(offYOffset=0,"-"===e.title&&(offYOffset=3),i.x=e.x,i.y=e.y-offYOffset,null!==e.title&&this.spreaderTitle.attr({text:e.title})),this.spreaderTitle.animate(i,this.animatetime,this.animateeffect)),this.spreaderPath.toFront(),this.spreaderTitle.toFront())},spreaderPath=function(){return this.NullSpreader=function(t,e){return null===e&&(e=new spreaderPathCustomization),t.setBaseValue(e.spreaderPercent,e),{spreaderPathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.PieSpreaderCustomization=function(){var t=new spreaderPathCustomization;return t.spreaderRadius=25,t.arcBaseRadiusPercent=1,t.arcRadiusPercent=1,t.startRadiusPercent=0,t},this.PieSpreader=function(t,e,i){null===i&&(i=PieSpreaderCustomization()),t.setBaseValue(i.spreaderPercent*e,i);var n=t.sliceRadius*i.arcBaseRadiusPercent,l=t.sliceRadius*i.arcRadiusPercent;return spreaderPathString=[],t.StartSpreader(spreaderPathString,t.startAngle,n),spreaderPathString.push(t.ArcTo(l,t.middleAngle,n)),spreaderPathString.push(t.ArcTo(l,t.endAngle,n)),spreaderPathString.push(t.Close()),{spreaderPathString:spreaderPathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.StarSpreaderCustomization=function(){var t=new spreaderPathCustomization;return t.minRadiusPercent=.5,t},this.StarSpreader=function(t,e,i){null===i&&(i=StarSpreaderCustomization()),t.setBaseValue(i.spreaderPercent*e,i),rbase=t.wheelRadius*i.spreaderPercent*i.minRadiusPercent*e,r=t.sliceRadius,spreaderPathString=[],sliceAngle=t.sliceAngle/t.navItemCount,baseAngle=t.navAngle,t.endAngle-t.startAngle<360&&(baseAngle=t.startAngle),t.StartSpreader(spreaderPathString,baseAngle,r);for(var n=0;n<t.navItemCount;n++)startAngle=n*sliceAngle+(baseAngle+sliceAngle/2),middleAngle=startAngle+sliceAngle/2,endAngle=startAngle+sliceAngle,t.endAngle-t.startAngle<360&&n===t.navItemCount-1&&(endAngle=middleAngle),spreaderPathString.push(t.LineTo(startAngle,rbase)),spreaderPathString.push(t.LineTo(middleAngle,r)),spreaderPathString.push(t.LineTo(endAngle,rbase));return spreaderPathString.push(t.Close()),{spreaderPathString:spreaderPathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.AntiStarSpreaderCustomization=function(){var t=new spreaderPathCustomization;return t.minRadiusPercent=.21,t},this.AntiStarSpreader=function(t,e,i){null===i&&(i=AntiStarSpreaderCustomization()),t.setBaseValue(i.spreaderPercent*e,i),rbase=t.wheelRadius*i.spreaderPercent*i.minRadiusPercent*e,r=t.sliceRadius,spreaderPathString=[],sliceAngle=t.sliceAngle/t.navItemCount,baseAngle=t.navAngle,t.endAngle-t.startAngle<360?(baseAngle=t.startAngle,t.StartSpreader(spreaderPathString,baseAngle,rbase)):spreaderPathString.push(t.MoveTo(t.startAngle+(t.navAngle+sliceAngle/2),rbase));for(var n=0;n<t.navItemCount;n++)startAngle=n*sliceAngle+(baseAngle+sliceAngle/2),middleAngle=startAngle+sliceAngle/2,endAngle=startAngle+sliceAngle,t.endAngle-t.startAngle<360&&n===t.navItemCount-1&&(endAngle=middleAngle),spreaderPathString.push(t.LineTo(startAngle,r)),spreaderPathString.push(t.LineTo(middleAngle,rbase)),spreaderPathString.push(t.LineTo(endAngle,r));return spreaderPathString.push(t.Close()),{spreaderPathString:spreaderPathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.FlowerSpreaderCustomization=function(){var t=new spreaderPathCustomization;return t.minRadiusPercent=.63,t.menuRadius=7,t},this.FlowerSpreader=function(t,e,i){null===i&&(i=FlowerSpreaderCustomization()),t.setBaseValue(i.spreaderPercent*e,i),rbase=t.wheelRadius*i.spreaderPercent*i.minRadiusPercent*e,r=t.sliceRadius,spreaderPathString=[],sliceAngle=t.sliceAngle/t.navItemCount,baseAngle=t.navAngle,t.endAngle-t.startAngle<360?(baseAngle=t.startAngle,t.StartSpreader(spreaderPathString,baseAngle,rbase)):spreaderPathString.push(t.MoveTo(t.startAngle+(t.navAngle+sliceAngle/2),rbase));for(var n=0;n<t.navItemCount;n++)startAngle=n*sliceAngle+(baseAngle+sliceAngle/2),middleAngle=startAngle+sliceAngle/2,endAngle=startAngle+sliceAngle,t.endAngle-t.startAngle<360?(0===n&&spreaderPathString.push(t.ArcTo(i.menuRadius,startAngle,rbase)),n===t.navItemCount-1&&(endAngle=middleAngle)):spreaderPathString.push(t.LineTo(startAngle,rbase)),spreaderPathString.push(t.ArcTo(i.menuRadius,endAngle,rbase));return spreaderPathString.push(t.Close()),{spreaderPathString:spreaderPathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.HolderSpreaderCustomization=function(){var t=new spreaderPathCustomization;return t.minRadiusPercent=.5,t.menuRadius=37,t},this.HolderSpreader=function(t,e,i){null===i&&(i=HolderSpreaderCustomization()),t.setBaseValue(i.spreaderPercent*e,i),rbase=t.wheelRadius*i.spreaderPercent*i.minRadiusPercent*e,r=t.sliceRadius,spreaderPathString=[],sliceAngle=t.sliceAngle/t.navItemCount,baseAngle=t.navAngle,t.endAngle-t.startAngle<360?(baseAngle=t.startAngle,t.StartSpreader(spreaderPathString,baseAngle,rbase)):spreaderPathString.push(t.MoveTo(t.startAngle+(t.navAngle+sliceAngle/2),rbase));for(var n=0;n<t.navItemCount;n++)startAngle=n*sliceAngle+(baseAngle+sliceAngle/2),middleAngle=startAngle+sliceAngle/4,endAngle=startAngle+sliceAngle,t.endAngle-t.startAngle<360?n===t.navItemCount-1&&(endAngle=middleAngle):spreaderPathString.push(t.LineTo(startAngle,rbase)),spreaderPathString.push(t.LineTo(startAngle,r)),spreaderPathString.push(t.ArcBackTo(i.menuRadius,middleAngle,rbase)),spreaderPathString.push(t.ArcTo(i.menuRadius,endAngle,r));return spreaderPathString.push(t.Close()),{spreaderPathString:spreaderPathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.LineSpreaderCustomization=function(){var t=new spreaderPathCustomization;return t.minRadiusPercent=.5,t},this.LineSpreader=function(t,e,i){null===i&&(i=LineSpreaderCustomization()),t.setBaseValue(i.spreaderPercent*e,i),rbase=t.wheelRadius*i.spreaderPercent*i.minRadiusPercent*e,r=t.sliceRadius,spreaderPathString=[],sliceAngle=t.sliceAngle/t.navItemCount,baseAngle=t.navAngle,t.endAngle-t.startAngle<360&&(baseAngle=t.startAngle),spreaderPathString.push(t.MoveTo(baseAngle+sliceAngle/2,r));for(var n=0;n<t.navItemCount;n++)startAngle=n*sliceAngle+(baseAngle+sliceAngle/2),endAngle=startAngle+sliceAngle,2===t.navItemCount&&(endAngle-=90),spreaderPathString.push(t.LineTo(startAngle,r)),spreaderPathString.push(t.LineTo(endAngle,r));return spreaderPathString.push(t.Close()),{spreaderPathString:spreaderPathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this},marker=function(t){return this.wheelnav=t,this.wheelnav.markerEnable&&(this.markerHelper=new pathHelper,this.markerHelper.centerX=this.wheelnav.centerX,this.markerHelper.centerY=this.wheelnav.centerY,this.markerHelper.navItemCount=this.wheelnav.navItemCount,this.markerHelper.navAngle=this.wheelnav.navAngle,this.markerHelper.wheelRadius=this.wheelnav.wheelRadius*this.wheelnav.maxPercent,this.markerHelper.sliceAngle=this.wheelnav.navItems[0].sliceAngle,this.markerHelper.startAngle=this.markerHelper.navAngle-this.markerHelper.sliceAngle/2,this.animateeffect="bounce",this.animatetime=1500,null!==this.wheelnav.animateeffect&&(this.animateeffect=this.wheelnav.animateeffect),null!==this.wheelnav.animatetime&&(this.animatetime=this.wheelnav.animatetime),this.markerPathMin=this.wheelnav.markerPathFunction(this.markerHelper,this.wheelnav.minPercent,this.wheelnav.markerPathCustom),this.markerPathMax=this.wheelnav.markerPathFunction(this.markerHelper,this.wheelnav.maxPercent,this.wheelnav.markerPathCustom),this.marker=this.wheelnav.raphael.path(this.markerPathMax.markerPathString),this.marker.attr(this.wheelnav.markerAttr),this.marker.id=this.wheelnav.getMarkerId(),this.marker.node.id=this.marker.id),this},marker.prototype.setCurrentTransform=function(t){var e;this.wheelnav.markerEnable&&(e="",e=this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.markerPathMax.markerPathString:this.markerPathMin.markerPathString,markerTransformAttr=void 0!==t?{transform:"r,"+(t-this.markerHelper.navAngle).toString()+","+this.wheelnav.centerX+","+this.wheelnav.centerY,path:e}:{path:e},this.marker.animate(markerTransformAttr,this.animatetime,this.animateeffect),this.marker.toFront())},markerPath=function(){return this.NullMarker=function(t,e){return null===e&&(e=new markerPathCustomization),t.setBaseValue(e),{markerPathString:"",titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.TriangleMarkerCustomization=function(){var t=new markerPathCustomization;return t.arcBaseRadiusPercent=1.09,t.arcRadiusPercent=1.2,t.startRadiusPercent=0,t},this.TriangleMarker=function(t,e,i){null===i&&(i=TriangleMarkerCustomization()),t.setBaseValue(i.markerPercent*e,i);var n=t.sliceRadius*i.arcBaseRadiusPercent,l=t.sliceRadius*i.arcRadiusPercent,s=t.startAngle+.46*t.sliceAngle,r=t.startAngle+.54*t.sliceAngle;return markerPathString=[t.MoveTo(t.navAngle,n),t.LineTo(s,l),t.LineTo(r,l),t.Close()],{markerPathString:markerPathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.PieLineMarkerCustomization=function(){var t=new markerPathCustomization;return t.arcBaseRadiusPercent=1,t.arcRadiusPercent=1,t.startRadiusPercent=0,t.sliceAngle=null,t},this.PieLineMarker=function(t,e,i){null===i&&(i=PieLineMarkerCustomization()),t.setBaseValue(i.markerPercent*e,i);var n=t.sliceRadius*i.arcBaseRadiusPercent,l=t.sliceRadius*i.arcRadiusPercent;return null!==i.sliceAngle&&(t.startAngle=t.navAngle-i.sliceAngle/2,t.endAngle=t.navAngle+i.sliceAngle/2),markerPathString=[t.MoveTo(t.startAngle,n),t.ArcTo(l,t.endAngle,n),t.ArcBackTo(l,t.startAngle,n),t.Close()],{markerPathString:markerPathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.MenuMarkerCustomization=function(){var t=new markerPathCustomization;return t.menuRadius=40,t.titleRadiusPercent=.63,t.lineBaseRadiusPercent=0,t},this.MenuMarker=function(t,e,i){null===i&&(i=MenuMarkerCustomization()),t.setBaseValue(i.markerPercent*e,i),x=t.centerX,y=t.centerY,t.titleRadius=t.wheelRadius*i.titleRadiusPercent*e,t.setTitlePos();var n=i.menuRadius*e;return e<=.05&&(n=11),middleTheta=t.middleTheta,markerPathString=[["M",t.titlePosX-n*Math.cos(middleTheta),t.titlePosY-n*Math.sin(middleTheta)],["A",n,n,0,0,1,t.titlePosX+n*Math.cos(middleTheta),t.titlePosY+n*Math.sin(middleTheta)],["A",n,n,0,0,1,t.titlePosX-n*Math.cos(middleTheta),t.titlePosY-n*Math.sin(middleTheta)],["z"]],{markerPathString:markerPathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.LineMarkerCustomization=function(){var t=new markerPathCustomization;return t.arcBaseRadiusPercent=1.05,t.arcRadiusPercent=1.2,t.startRadiusPercent=0,t},this.LineMarker=function(t,e,i){null===i&&(i=LineMarkerCustomization()),t.setBaseValue(i.markerPercent*e,i);var n=t.sliceRadius*i.arcBaseRadiusPercent,l=t.sliceRadius*i.arcRadiusPercent;return markerPathString=[t.MoveTo(t.navAngle,n),t.LineTo(t.navAngle,l),t.Close()],{markerPathString:markerPathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this.DropMarkerCustomization=function(){var t=new markerPathCustomization;return t.dropBaseRadiusPercent=0,t.dropRadiusPercent=.15,t},this.DropMarker=function(t,e,i){null===i&&(i=DropMarkerCustomization()),t.setBaseValue(i.markerPercent*e,i);var n=t.sliceRadius*i.dropBaseRadiusPercent,l=t.startAngle+.2*t.sliceAngle,s=t.startAngle,r=t.startAngle+.8*t.sliceAngle,a=t.startAngle+t.sliceAngle,h=t.sliceRadius*i.dropRadiusPercent;return markerPathString=[t.MoveTo(0,h),t.ArcTo(h,180,h),t.ArcTo(h,360,h),t.MoveTo(t.navAngle,n),t.LineTo(l,h),t.LineTo(s,h),t.LineTo(t.navAngle,1.6*h),t.LineTo(a,h),t.LineTo(r,h),t.Close()],{markerPathString:markerPathString,titlePosX:t.titlePosX,titlePosY:t.titlePosY}},this};var colorpalette={defaultpalette:new Array("#2D9E46","#F5BE41","#F77604","#D63C22","#006BA6","#92ADAF"),purple:new Array("#4F346B","#623491","#9657D6","#AD74E7","#CBA3F3"),greenred:new Array("#17B92A","#FF3D00","#17B92A","#FF3D00"),greensilver:new Array("#1F700A","#79CC3C","#D4E178","#E6D5C3","#AC875D"),oceanfive:new Array("#00A0B0","#6A4A3C","#CC333F","#EB6841","#EDC951"),garden:new Array("#648A4F","#2B2B29","#DF6126","#FFA337","#F57C85"),gamebookers:new Array("#FF9900","#DCDCDC","#BCBCBC","#3299BB","#727272"),parrot:new Array("#D80351","#F5D908","#00A3EE","#929292","#3F3F3F"),pisycholand:new Array("#FF1919","#FF5E19","#FF9F19","#E4FF19","#29FF19"),makeLOVEnotWAR:new Array("#2C0EF0","#B300FF","#6751F0","#FF006F","#8119FF"),theworldismine:new Array("#F21D1D","#FF2167","#B521FF","#7E2AA8","#000000"),fractalloveone:new Array("#002EFF","#00FFF7","#00FF62","#FFAA00","#FFF700"),fractallovetwo:new Array("#FF9500","#FF0000","#FF00F3","#AA00FF","#002EFF"),fractallove:new Array("#002EFF","#00FFF7","#00FF62","#FFAA00","#F5D908","#FF0000","#FF00F3","#AA00FF"),sprinkles:new Array("#272523","#FFACAC","#FFD700","#00590C","#08006D"),goldenyellow:new Array("#D8B597","#8C4006","#B6690F","#E3C57F","#FFEDBE"),hotaru:new Array("#364C4A","#497C7F","#92C5C0","#858168","#CCBCA5")};